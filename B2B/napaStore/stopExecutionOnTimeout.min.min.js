"use strict";"object"!=typeof window.CP&&(window.CP={}),window.CP.PenTimer={programNoLongerBeingMonitored:!1,timeOfFirstCallToShouldStopLoop:0,_loopExits:{},_loopTimers:{},START_MONITORING_AFTER:2000,STOP_ALL_MONITORING_TIMEOUT:5000,MAX_TIME_IN_LOOP_WO_EXIT:2200,exitedLoop:function(b){this._loopExits[b]=!0},shouldStopLoop:function(h){if(this.programKilledSoStopMonitoring){return !0}if(this.programNoLongerBeingMonitored){return !1}if(this._loopExits[h]){return !1}var e=this._getTime();if(0===this.timeOfFirstCallToShouldStopLoop){return this.timeOfFirstCallToShouldStopLoop=e,!1}var f=e-this.timeOfFirstCallToShouldStopLoop;if(f<this.START_MONITORING_AFTER){return !1}if(f>this.STOP_ALL_MONITORING_TIMEOUT){return this.programNoLongerBeingMonitored=!0,!1}try{this._checkOnInfiniteLoop(h,e)}catch(g){return this._sendErrorMessageToEditor(),this.programKilledSoStopMonitoring=!0,!0}return !1},_sendErrorMessageToEditor:function(){try{if(this._shouldPostMessage()){var c={action:"infinite-loop",line:this._findAroundLineNumber()};parent.postMessage(JSON.stringify(c),"*")}else{this._throwAnErrorToStopPen()}}catch(d){this._throwAnErrorToStopPen()}},_shouldPostMessage:function(){return document.location.href.match(/boomerang/)},_throwAnErrorToStopPen:function(){throw"We found an infinite loop in your Pen. We've stopped the Pen from running. Please correct it or contact support@codepen.io."},_findAroundLineNumber:function(){var f=new Error,d=0;if(f.stack){var e=f.stack.match(/boomerang\S+:(\d+):\d+/);e&&(d=e[1])}return d},_checkOnInfiniteLoop:function(f,d){if(!this._loopTimers[f]){return this._loopTimers[f]=d,!1}var e=d-this._loopTimers[f];if(e>this.MAX_TIME_IN_LOOP_WO_EXIT){throw"Infinite Loop found on loop: "+f}},_getTime:function(){return +new Date}},window.CP.shouldStopExecution=function(b){return window.CP.PenTimer.shouldStopLoop(b)},window.CP.exitedLoop=function(b){window.CP.PenTimer.exitedLoop(b)};
"use strict";"object"!=typeof window.CP&&(window.CP={}),window.CP.PenTimer={programNoLongerBeingMonitored:!1,timeOfFirstCallToShouldStopLoop:0,_loopExits:{},_loopTimers:{},START_MONITORING_AFTER:2000,STOP_ALL_MONITORING_TIMEOUT:5000,MAX_TIME_IN_LOOP_WO_EXIT:2200,exitedLoop:function(a){this._loopExits[a]=!0},shouldStopLoop:function(c){if(this.programKilledSoStopMonitoring){return !0}if(this.programNoLongerBeingMonitored){return !1}if(this._loopExits[c]){return !1}var b=this._getTime();if(0===this.timeOfFirstCallToShouldStopLoop){return this.timeOfFirstCallToShouldStopLoop=b,!1}var a=b-this.timeOfFirstCallToShouldStopLoop;if(a<this.START_MONITORING_AFTER){return !1}if(a>this.STOP_ALL_MONITORING_TIMEOUT){return this.programNoLongerBeingMonitored=!0,!1}try{this._checkOnInfiniteLoop(c,b)}catch(d){return this._sendErrorMessageToEditor(),this.programKilledSoStopMonitoring=!0,!0}return !1},_sendErrorMessageToEditor:function(){try{if(this._shouldPostMessage()){var b={action:"infinite-loop",line:this._findAroundLineNumber()};parent.postMessage(JSON.stringify(b),"*")}else{this._throwAnErrorToStopPen()}}catch(a){this._throwAnErrorToStopPen()}},_shouldPostMessage:function(){return document.location.href.match(/boomerang/)},_throwAnErrorToStopPen:function(){throw"We found an infinite loop in your Pen. We've stopped the Pen from running. Please correct it or contact support@codepen.io."},_findAroundLineNumber:function(){var c=new Error,b=0;if(c.stack){var a=c.stack.match(/boomerang\S+:(\d+):\d+/);a&&(b=a[1])}return b},_checkOnInfiniteLoop:function(c,b){if(!this._loopTimers[c]){return this._loopTimers[c]=b,!1}var a=b-this._loopTimers[c];if(a>this.MAX_TIME_IN_LOOP_WO_EXIT){throw"Infinite Loop found on loop: "+c}},_getTime:function(){return +new Date}},window.CP.shouldStopExecution=function(a){return window.CP.PenTimer.shouldStopLoop(a)},window.CP.exitedLoop=function(a){window.CP.PenTimer.exitedLoop(a)};
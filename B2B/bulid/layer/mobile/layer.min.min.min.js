/*! layer mobile-v2.0.0 Web弹层组件 MIT License  http://layer.layui.com/mobile  By 贤心 */
;!function(g){var k=document,b="querySelectorAll",f="getElementsByClassName",j=function(a){return k[b](a)},m={type:0,shade:!0,shadeClose:!0,fixed:!0,anim:"scale"},d={extend:function(c){var a=JSON.parse(JSON.stringify(m));for(var e in c){a[e]=c[e]}return a},timer:{},end:{}};d.touch=function(c,a){c.addEventListener("click",function(e){a.call(this,e)},!1)};var p=0,q=["layui-m-layer"],h=function(c){var a=this;a.config=d.extend(c),a.view()};h.prototype.view=function(){var e=this,c=e.config,a=k.createElement("div");e.id=a.id=q[0]+p,a.setAttribute("class",q[0]+" "+q[0]+(c.type||0)),a.setAttribute("index",p);var o=function(){var s="object"==typeof c.title;return c.title?'<h3 style="'+(s?c.title[1]:"")+'">'+(s?c.title[0]:c.title)+"</h3>":""}(),r=function(){"string"==typeof c.btn&&(c.btn=[c.btn]);var t,s=(c.btn||[]).length;return 0!==s&&c.btn?(t='<span yes type="1">'+c.btn[0]+"</span>",2===s&&(t='<span no type="0">'+c.btn[1]+"</span>"+t),'<div class="layui-m-layerbtn">'+t+"</div>"):""}();if(c.fixed||(c.top=c.hasOwnProperty("top")?c.top:100,c.style=c.style||"",c.style+=" top:"+(k.body.scrollTop+c.top)+"px"),2===c.type&&(c.content='<i></i><i class="layui-m-layerload"></i><i></i><p>'+(c.content||"")+"</p>"),c.skin&&(c.anim="up"),"msg"===c.skin&&(c.shade=!1),a.innerHTML=(c.shade?"<div "+("string"==typeof c.shade?'style="'+c.shade+'"':"")+' class="layui-m-layershade"></div>':"")+'<div class="layui-m-layermain" '+(c.fixed?"":'style="position:static;"')+'><div class="layui-m-layersection"><div class="layui-m-layerchild '+(c.skin?"layui-m-layer-"+c.skin+" ":"")+(c.className?c.className:"")+" "+(c.anim?"layui-m-anim-"+c.anim:"")+'" '+(c.style?'style="'+c.style+'"':"")+">"+o+'<div class="layui-m-layercont">'+c.content+"</div>"+r+"</div></div></div>",!c.type||2===c.type){var i=k[f](q[0]+c.type),n=i.length;n>=1&&layer.close(i[0].getAttribute("index"))}document.body.appendChild(a);var l=e.elem=j("#"+e.id)[0];c.success&&c.success(l),e.index=p++,e.action(c,l)},h.prototype.action=function(o,r){var e=this;o.time&&(d.timer[e.index]=setTimeout(function(){layer.close(e.index)},1000*o.time));var i=function(){var s=this.getAttribute("type");0==s?(o.no&&o.no(),layer.close(e.index)):o.yes?o.yes(e.index):layer.close(e.index)};if(o.btn){for(var l=r[f]("layui-m-layerbtn")[0].children,n=l.length,c=0;c<n;c++){d.touch(l[c],i)}}if(o.shade&&o.shadeClose){var a=r[f]("layui-m-layershade")[0];d.touch(a,function(){layer.close(e.index,o.end)})}o.end&&(d.end[e.index]=o.end)},g.layer={v:"2.0",index:p,open:function(c){var a=new h(c||{});return a.index},close:function(a){var c=j("#"+q[0]+a)[0];c&&(c.innerHTML="",k.body.removeChild(c),clearTimeout(d.timer[a]),delete d.timer[a],"function"==typeof d.end[a]&&d.end[a](),delete d.end[a])},closeAll:function(){for(var e=k[f](q[0]),a=0,c=e.length;a<c;a++){layer.close(0|e[0].getAttribute("index"))}}},"function"==typeof define?define(function(){return layer}):function(){var e=document.scripts,i=e[e.length-1],a=i.src,c=a.substring(0,a.lastIndexOf("/")+1);i.getAttribute("merge")||document.head.appendChild(function(){var l=k.createElement("link");return l.href=c+"need/layer.css?2.0",l.type="text/css",l.rel="styleSheet",l.id="layermcss",l}())}()}(window);
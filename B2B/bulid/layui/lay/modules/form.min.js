layui.define("layer",function(p){var k=layui.$,C=layui.layer,z=layui.hint(),h=layui.device(),j="form",D=".layui-form",b="layui-this",B="layui-hide",w="layui-disabled",g=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:[/^\d+$/,"只能填写数字"],date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};g.prototype.set=function(c){var a=this;return k.extend(!0,a.config,c),a},g.prototype.verify=function(c){var a=this;return k.extend(!0,a.config.verify,c),a},g.prototype.on=function(c,a){return layui.onevent.call(this,j,c,a)},g.prototype.render=function(c,a){var l=this,i=k(D+function(){return a?'[lay-filter="'+a+'"]':""}()),f={select:function(){var v,H="请选择",G="layui-form-select",o="layui-select-title",I="layui-select-none",E="",u=i.find("select"),F=function(e,d){k(e.target).parent().hasClass(o)&&!d||(k("."+G).removeClass(G+"ed "+G+"up"),v&&E&&v.val(E)),v=null},r=function(P,n,L){var J=k(this),e=P.find("."+o),s=e.find("input"),y=P.find("dl"),K=y.children("dd");if(!n){var M=function(){var Q=P.offset().top+P.outerHeight()+5-A.scrollTop(),t=y.outerHeight();P.addClass(G+"ed"),K.removeClass(B),Q+t>A.height()&&Q>=t&&P.addClass(G+"up")},N=function(t){P.removeClass(G+"ed "+G+"up"),s.blur(),t||d(s.val(),function(Q){Q&&(E=y.find("."+b).html(),s&&s.val(E))})};e.on("click",function(t){P.hasClass(G+"ed")?N():(F(t,!0),M()),y.find("."+I).remove()}),e.find(".layui-edge").on("click",function(){s.focus()}),s.on("keyup",function(Q){var t=Q.keyCode;9===t&&M()}).on("keydown",function(Q){var t=Q.keyCode;9===t?N():13===t&&Q.preventDefault()});var d=function(T,S,R){var U=0;layui.each(K,function(){var W=k(this),V=W.text(),X=V.indexOf(T)===-1;(""===T||"blur"===R?T!==V:X)&&U++,"keyup"===R&&W[X?"addClass":"removeClass"](B)});var Q=U===K.length;return S(Q),Q},O=function(S){var R=this.value,Q=S.keyCode;return 9!==Q&&13!==Q&&37!==Q&&38!==Q&&39!==Q&&40!==Q&&(d(R,function(t){t?y.find("."+I)[0]||y.append('<p class="'+I+'">无匹配项</p>'):y.find("."+I).remove()},"keyup"),void (""===R&&y.find("."+I).remove()))};L&&s.on("keyup",O).on("blur",function(t){v=s,E=y.find("."+b).html(),setTimeout(function(){d(s.val(),function(Q){Q&&!E&&s.val("")},"blur")},200)}),K.on("click",function(){var Q=k(this),t=Q.attr("lay-value"),R=J.attr("lay-filter");return !Q.hasClass(w)&&(Q.hasClass("layui-select-tips")?s.val(""):(s.val(Q.text()),Q.addClass(b)),Q.siblings().removeClass(b),J.val(t).removeClass("layui-form-danger"),layui.event.call(this,j,"select("+R+")",{elem:J[0],value:t,othis:P}),N(!0),!1)}),P.find("dl>dt").on("click",function(t){return !1}),k(document).off("click",F).on("click",F)}};u.each(function(M,K){var R=k(this),Q=R.next("."+G),t=this.disabled,N=K.value,L=k(K.options[K.selectedIndex]),O=K.options[0];if("string"==typeof R.attr("lay-ignore")){return R.show()}var P="string"==typeof R.attr("lay-search"),n=O?O.value?H:O.innerHTML||H:H,J=k(['<div class="layui-unselect '+G+(t?" layui-select-disabled":"")+'">','<div class="'+o+'"><input type="text" placeholder="'+n+'" value="'+(N?L.html():"")+'" '+(P?"":"readonly")+' class="layui-input layui-unselect'+(t?" "+w:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(R.find("optgroup")[0]?" layui-select-group":"")+'">'+function(s){var d=[];return layui.each(s,function(S,y){0!==S||y.value?"optgroup"===y.tagName.toLowerCase()?d.push("<dt>"+y.label+"</dt>"):d.push('<dd lay-value="'+y.value+'" class="'+(N===y.value?b:"")+(y.disabled?" "+w:"")+'">'+y.innerHTML+"</dd>"):d.push('<dd lay-value="" class="layui-select-tips">'+(y.innerHTML||H)+"</dd>")}),0===d.length&&d.push('<dd lay-value="" class="'+w+'">没有选项</dd>'),d.join("")}(R.find("*"))+"</dl>","</div>"].join(""));Q[0]&&Q.remove(),R.after(J),r.call(this,J,t,P)})},checkbox:function(){var o={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},n=i.find("input[type=checkbox]"),d=function(u,s){var r=k(this);u.on("click",function(){var e=r.attr("lay-filter"),t=(r.attr("lay-text")||"").split("|");r[0].disabled||(r[0].checked?(r[0].checked=!1,u.removeClass(s[1]).find("em").text(t[1])):(r[0].checked=!0,u.addClass(s[1]).find("em").text(t[0])),layui.event.call(r[0],j,s[2]+"("+e+")",{elem:r[0],value:r[0].value,othis:u}))})};n.each(function(I,y){var E=k(this),J=E.attr("lay-skin"),e=(E.attr("lay-text")||"").split("|"),H=this.disabled;"switch"===J&&(J="_"+J);var v=o[J]||o.checkbox;if("string"==typeof E.attr("lay-ignore")){return E.show()}var G=E.next("."+v[0]),F=k(['<div class="layui-unselect '+v[0]+(y.checked?" "+v[1]:"")+(H?" layui-checkbox-disbaled "+w:"")+'" lay-skin="'+(J||"")+'">',{_switch:"<em>"+((y.checked?e[0]:e[1])||"")+"</em><i></i>"}[J]||(y.title.replace(/\s/g,"")?"<span>"+y.title+"</span>":"")+'<i class="layui-icon">'+(J?"&#xe605;":"&#xe618;")+"</i>","</div>"].join(""));G[0]&&G.remove(),E.after(F),d.call(this,F,v)})},radio:function(){var r="layui-form-radio",o=["&#xe643;","&#xe63f;"],d=i.find("input[type=radio]"),s=function(e){var u=k(this),t="layui-anim-scaleSpring";e.on("click",function(){var n=u[0].name,E=u.parents(D),y=u.attr("lay-filter"),v=E.find("input[name="+n.replace(/(\.|#|\[|\])/g,"\\$1")+"]");u[0].disabled||(layui.each(v,function(){var F=k(this).next("."+r);this.checked=!1,F.removeClass(r+"ed"),F.find(".layui-icon").removeClass(t).html(o[1])}),u[0].checked=!0,e.addClass(r+"ed"),e.find(".layui-icon").addClass(t).html(o[0]),layui.event.call(u[0],j,"radio("+y+")",{elem:u[0],value:u[0].value,othis:e}))})};d.each(function(n,e){var v=k(this),y=v.next("."+r),t=this.disabled;if("string"==typeof v.attr("lay-ignore")){return v.show()}var E=k(['<div class="layui-unselect '+r+(e.checked?" "+r+"ed":"")+(t?" layui-radio-disbaled "+w:"")+'">','<i class="layui-anim layui-icon">'+o[e.checked?0:1]+"</i>","<span>"+(e.title||"未命名")+"</span>","</div>"].join(""));y[0]&&y.remove(),v.after(E),s.call(this,E)})}};return c?f[c]?f[c]():z.error("不支持的"+c+"表单渲染"):layui.each(f,function(n,d){d()}),l};var q=function(){var n=k(this),F=m.config.verify,f=null,H="layui-form-danger",t={},i=n.parents(D),s=i.find("*[lay-verify]"),E=n.parents("form")[0],G=i.find("input,select,textarea"),l=n.attr("lay-filter");return layui.each(s,function(u,a){var r=k(this),I=r.attr("lay-verify").split("|"),y="",v=r.val();if(r.removeClass(H),layui.each(I,function(o,d){var J="function"==typeof F[d];if(F[d]&&(J?y=F[d](v,a):!F[d][0].test(v))){return C.msg(y||F[d][1],{icon:5,shift:6}),h.android||h.ios||a.focus(),r.addClass(H),f=!0}}),f){return f}}),!f&&(layui.each(G,function(c,a){a.name&&(/^checkbox|radio$/.test(a.type)&&!a.checked||(t[a.name]=a.value))}),layui.event.call(this,j,"submit("+l+")",{elem:this,form:E,field:t}))},m=new g,x=k(document),A=k(window);m.render(),x.on("reset",D,function(){var a=k(this).attr("lay-filter");setTimeout(function(){m.render(null,a)},50)}),x.on("submit",D,q).on("click","*[lay-submit]",q),p(j,m)});
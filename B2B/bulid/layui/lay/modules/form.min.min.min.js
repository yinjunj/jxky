layui.define("layer",function(m){var h=layui.$,q=layui.layer,C=layui.hint(),b=layui.device(),g="form",z=".layui-form",B="layui-this",p="layui-hide",x="layui-disabled",D=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:[/^\d+$/,"只能填写数字"],date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};D.prototype.set=function(c){var a=this;return h.extend(!0,a.config,c),a},D.prototype.verify=function(c){var a=this;return h.extend(!0,a.config.verify,c),a},D.prototype.on=function(c,a){return layui.onevent.call(this,g,c,a)},D.prototype.render=function(c,f){var a=this,e=h(z+function(){return f?'[lay-filter="'+f+'"]':""}()),d={select:function(){var u,v="请选择",t="layui-form-select",o="layui-select-title",l="layui-select-none",i="",r=e.find("select"),n=function(F,y){h(F.target).parent().hasClass(o)&&!y||(h("."+t).removeClass(t+"ed "+t+"up"),u&&i&&u.val(i)),u=null},s=function(Z,y,N){var K=h(this),W=Z.find("."+o),J=W.find("input"),M=Z.find("dl"),L=M.children("dd");if(!y){var O=function(){var E=Z.offset().top+Z.outerHeight()+5-k.scrollTop(),F=M.outerHeight();Z.addClass(t+"ed"),L.removeClass(p),E+F>k.height()&&E>=F&&Z.addClass(t+"up")},X=function(E){Z.removeClass(t+"ed "+t+"up"),J.blur(),E||P(J.val(),function(F){F&&(i=M.find("."+B).html(),J&&J.val(i))})};W.on("click",function(E){Z.hasClass(t+"ed")?X():(n(E,!0),O()),M.find("."+l).remove()}),W.find(".layui-edge").on("click",function(){J.focus()}),J.on("keyup",function(E){var F=E.keyCode;9===F&&O()}).on("keydown",function(E){var F=E.keyCode;9===F?X():13===F&&E.preventDefault()});var P=function(F,E,I){var G=0;layui.each(L,function(){var R=h(this),Q=R.text(),S=Q.indexOf(F)===-1;(""===F||"blur"===I?F!==Q:S)&&G++,"keyup"===I&&R[S?"addClass":"removeClass"](p)});var H=G===L.length;return E(H),H},Y=function(G){var F=this.value,E=G.keyCode;return 9!==E&&13!==E&&37!==E&&38!==E&&39!==E&&40!==E&&(P(F,function(H){H?M.find("."+l)[0]||M.append('<p class="'+l+'">无匹配项</p>'):M.find("."+l).remove()},"keyup"),void (""===F&&M.find("."+l).remove()))};N&&J.on("keyup",Y).on("blur",function(E){u=J,i=M.find("."+B).html(),setTimeout(function(){P(J.val(),function(F){F&&!i&&J.val("")},"blur")},200)}),L.on("click",function(){var E=h(this),G=E.attr("lay-value"),F=K.attr("lay-filter");return !E.hasClass(x)&&(E.hasClass("layui-select-tips")?J.val(""):(J.val(E.text()),E.addClass(B)),E.siblings().removeClass(B),K.val(G).removeClass("layui-form-danger"),layui.event.call(this,g,"select("+F+")",{elem:K[0],value:G,othis:Z}),X(!0),!1)}),Z.find("dl>dt").on("click",function(E){return !1}),h(document).off("click",n).on("click",n)}};r.each(function(N,L){var X=h(this),R=X.next("."+t),J=this.disabled,O=L.value,M=h(L.options[L.selectedIndex]),P=L.options[0];if("string"==typeof X.attr("lay-ignore")){return X.show()}var Q="string"==typeof X.attr("lay-search"),y=P?P.value?v:P.innerHTML||v:v,K=h(['<div class="layui-unselect '+t+(J?" layui-select-disabled":"")+'">','<div class="'+o+'"><input type="text" placeholder="'+y+'" value="'+(O?M.html():"")+'" '+(Q?"":"readonly")+' class="layui-input layui-unselect'+(J?" "+x:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(X.find("optgroup")[0]?" layui-select-group":"")+'">'+function(F){var E=[];return layui.each(F,function(G,H){0!==G||H.value?"optgroup"===H.tagName.toLowerCase()?E.push("<dt>"+H.label+"</dt>"):E.push('<dd lay-value="'+H.value+'" class="'+(O===H.value?B:"")+(H.disabled?" "+x:"")+'">'+H.innerHTML+"</dd>"):E.push('<dd lay-value="" class="layui-select-tips">'+(H.innerHTML||v)+"</dd>")}),0===E.length&&E.push('<dd lay-value="" class="'+x+'">没有选项</dd>'),E.join("")}(X.find("*"))+"</dl>","</div>"].join(""));R[0]&&R.remove(),X.after(K),s.call(this,K,J,Q)})},checkbox:function(){var n={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},l=e.find("input[type=checkbox]"),i=function(r,o){var s=h(this);r.on("click",function(){var u=s.attr("lay-filter"),t=(s.attr("lay-text")||"").split("|");s[0].disabled||(s[0].checked?(s[0].checked=!1,r.removeClass(o[1]).find("em").text(t[1])):(s[0].checked=!0,r.addClass(o[1]).find("em").text(t[0])),layui.event.call(s[0],g,o[2]+"("+u+")",{elem:s[0],value:s[0].value,othis:r}))})};l.each(function(t,E){var v=h(this),u=v.attr("lay-skin"),F=(v.attr("lay-text")||"").split("|"),s=this.disabled;"switch"===u&&(u="_"+u);var r=n[u]||n.checkbox;if("string"==typeof v.attr("lay-ignore")){return v.show()}var o=v.next("."+r[0]),y=h(['<div class="layui-unselect '+r[0]+(E.checked?" "+r[1]:"")+(s?" layui-checkbox-disbaled "+x:"")+'" lay-skin="'+(u||"")+'">',{_switch:"<em>"+((E.checked?F[0]:F[1])||"")+"</em><i></i>"}[u]||(E.title.replace(/\s/g,"")?"<span>"+E.title+"</span>":"")+'<i class="layui-icon">'+(u?"&#xe605;":"&#xe618;")+"</i>","</div>"].join(""));o[0]&&o.remove(),v.after(y),i.call(this,y,r)})},radio:function(){var o="layui-form-radio",l=["&#xe643;","&#xe63f;"],n=e.find("input[type=radio]"),i=function(s){var r=h(this),t="layui-anim-scaleSpring";s.on("click",function(){var u=r[0].name,y=r.parents(z),v=r.attr("lay-filter"),E=y.find("input[name="+u.replace(/(\.|#|\[|\])/g,"\\$1")+"]");r[0].disabled||(layui.each(E,function(){var F=h(this).next("."+o);this.checked=!1,F.removeClass(o+"ed"),F.find(".layui-icon").removeClass(t).html(l[1])}),r[0].checked=!0,s.addClass(o+"ed"),s.find(".layui-icon").addClass(t).html(l[0]),layui.event.call(r[0],g,"radio("+v+")",{elem:r[0],value:r[0].value,othis:s}))})};n.each(function(t,y){var s=h(this),v=s.next("."+o),u=this.disabled;if("string"==typeof s.attr("lay-ignore")){return s.show()}var r=h(['<div class="layui-unselect '+o+(y.checked?" "+o+"ed":"")+(u?" layui-radio-disbaled "+x:"")+'">','<i class="layui-anim layui-icon">'+l[y.checked?0:1]+"</i>","<span>"+(y.title||"未命名")+"</span>","</div>"].join(""));v[0]&&v.remove(),s.after(r),i.call(this,r)})}};return c?d[c]?d[c]():C.error("不支持的"+c+"表单渲染"):layui.each(d,function(l,i){i()}),a};var w=function(){var n=h(this),c=j.config.verify,f=null,e="layui-form-danger",a={},i=n.parents(z),o=i.find("*[lay-verify]"),r=n.parents("form")[0],d=i.find("input,select,textarea"),l=n.attr("lay-filter");return layui.each(o,function(y,v){var u=h(this),F=u.attr("lay-verify").split("|"),t="",s=u.val();if(u.removeClass(e),layui.each(F,function(E,I){var J="function"==typeof c[I];if(c[I]&&(J?t=c[I](s,v):!c[I][0].test(s))){return q.msg(t||c[I][1],{icon:5,shift:6}),b.android||b.ios||v.focus(),u.addClass(e),f=!0}}),f){return f}}),!f&&(layui.each(d,function(s,t){t.name&&(/^checkbox|radio$/.test(t.type)&&!t.checked||(a[t.name]=t.value))}),layui.event.call(this,g,"submit("+l+")",{elem:this,form:r,field:a}))},j=new D,A=h(document),k=h(window);j.render(),A.on("reset",z,function(){var a=h(this).attr("lay-filter");setTimeout(function(){j.render(null,a)},50)}),A.on("submit",z,w).on("click","*[lay-submit]",w),m(g,j)});
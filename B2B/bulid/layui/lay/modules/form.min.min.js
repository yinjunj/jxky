layui.define("layer",function(f){var n=layui.$,d=layui.layer,t=layui.hint(),r=layui.device(),o="form",a=".layui-form",u="layui-this",e="layui-hide",y="layui-disabled",s=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:[/^\d+$/,"只能填写数字"],date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};s.prototype.set=function(g){var b=this;return n.extend(!0,b.config,g),b},s.prototype.verify=function(g){var b=this;return n.extend(!0,b.config.verify,g),b},s.prototype.on=function(g,b){return layui.onevent.call(this,o,g,b)},s.prototype.render=function(k,g){var b=this,h=n(a+function(){return g?'[lay-filter="'+g+'"]':""}()),j={select:function(){var x,w="请选择",z="layui-form-select",p="layui-select-title",q="layui-select-none",C="",A=h.find("select"),B=function(D,E){n(D.target).parent().hasClass(p)&&!E||(n("."+z).removeClass(z+"ed "+z+"up"),x&&C&&x.val(C)),x=null},m=function(E,D,R){var U=n(this),H=E.find("."+p),V=H.find("input"),S=E.find("dl"),T=S.children("dd");if(!D){var Q=function(){var K=E.offset().top+E.outerHeight()+5-i.scrollTop(),J=S.outerHeight();E.addClass(z+"ed"),T.removeClass(e),K+J>i.height()&&K>=J&&E.addClass(z+"up")},G=function(J){E.removeClass(z+"ed "+z+"up"),V.blur(),J||I(V.val(),function(K){K&&(C=S.find("."+u).html(),V&&V.val(C))})};H.on("click",function(J){E.hasClass(z+"ed")?G():(B(J,!0),Q()),S.find("."+q).remove()}),H.find(".layui-edge").on("click",function(){V.focus()}),V.on("keyup",function(K){var J=K.keyCode;9===J&&Q()}).on("keydown",function(K){var J=K.keyCode;9===J?G():13===J&&K.preventDefault()});var I=function(K,L,M){var J=0;layui.each(T,function(){var O=n(this),P=O.text(),Y=P.indexOf(K)===-1;(""===K||"blur"===M?K!==P:Y)&&J++,"keyup"===M&&O[Y?"addClass":"removeClass"](e)});var N=J===T.length;return L(N),N},F=function(J){var K=this.value,L=J.keyCode;return 9!==L&&13!==L&&37!==L&&38!==L&&39!==L&&40!==L&&(I(K,function(M){M?S.find("."+q)[0]||S.append('<p class="'+q+'">无匹配项</p>'):S.find("."+q).remove()},"keyup"),void (""===K&&S.find("."+q).remove()))};R&&V.on("keyup",F).on("blur",function(J){x=V,C=S.find("."+u).html(),setTimeout(function(){I(V.val(),function(K){K&&!C&&V.val("")},"blur")},200)}),T.on("click",function(){var L=n(this),J=L.attr("lay-value"),K=U.attr("lay-filter");return !L.hasClass(y)&&(L.hasClass("layui-select-tips")?V.val(""):(V.val(L.text()),L.addClass(u)),L.siblings().removeClass(u),U.val(J).removeClass("layui-form-danger"),layui.event.call(this,o,"select("+K+")",{elem:U[0],value:J,othis:E}),G(!0),!1)}),E.find("dl>dt").on("click",function(J){return !1}),n(document).off("click",B).on("click",B)}};A.each(function(S,U){var E=n(this),F=E.next("."+z),W=this.disabled,I=U.value,T=n(U.options[U.selectedIndex]),H=U.options[0];if("string"==typeof E.attr("lay-ignore")){return E.show()}var G="string"==typeof E.attr("lay-search"),D=H?H.value?w:H.innerHTML||w:w,V=n(['<div class="layui-unselect '+z+(W?" layui-select-disabled":"")+'">','<div class="'+p+'"><input type="text" placeholder="'+D+'" value="'+(I?T.html():"")+'" '+(G?"":"readonly")+' class="layui-input layui-unselect'+(W?" "+y:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(E.find("optgroup")[0]?" layui-select-group":"")+'">'+function(J){var K=[];return layui.each(J,function(L,M){0!==L||M.value?"optgroup"===M.tagName.toLowerCase()?K.push("<dt>"+M.label+"</dt>"):K.push('<dd lay-value="'+M.value+'" class="'+(I===M.value?u:"")+(M.disabled?" "+y:"")+'">'+M.innerHTML+"</dd>"):K.push('<dd lay-value="" class="layui-select-tips">'+(M.innerHTML||w)+"</dd>")}),0===K.length&&K.push('<dd lay-value="" class="'+y+'">没有选项</dd>'),K.join("")}(E.find("*"))+"</dl>","</div>"].join(""));F[0]&&F.remove(),E.after(V),m.call(this,V,W,G)})},checkbox:function(){var p={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},q=h.find("input[type=checkbox]"),m=function(w,x){var z=n(this);w.on("click",function(){var B=z.attr("lay-filter"),A=(z.attr("lay-text")||"").split("|");z[0].disabled||(z[0].checked?(z[0].checked=!1,w.removeClass(x[1]).find("em").text(A[1])):(z[0].checked=!0,w.addClass(x[1]).find("em").text(A[0])),layui.event.call(z[0],o,x[2]+"("+B+")",{elem:z[0],value:z[0].value,othis:w}))})};q.each(function(A,x){var L=n(this),z=L.attr("lay-skin"),w=(L.attr("lay-text")||"").split("|"),B=this.disabled;"switch"===z&&(z="_"+z);var C=p[z]||p.checkbox;if("string"==typeof L.attr("lay-ignore")){return L.show()}var D=L.next("."+C[0]),K=n(['<div class="layui-unselect '+C[0]+(x.checked?" "+C[1]:"")+(B?" layui-checkbox-disbaled "+y:"")+'" lay-skin="'+(z||"")+'">',{_switch:"<em>"+((x.checked?w[0]:w[1])||"")+"</em><i></i>"}[z]||(x.title.replace(/\s/g,"")?"<span>"+x.title+"</span>":"")+'<i class="layui-icon">'+(z?"&#xe605;":"&#xe618;")+"</i>","</div>"].join(""));D[0]&&D.remove(),L.after(K),m.call(this,K,C)})},radio:function(){var p="layui-form-radio",w=["&#xe643;","&#xe63f;"],q=h.find("input[type=radio]"),m=function(A){var x=n(this),z="layui-anim-scaleSpring";A.on("click",function(){var F=x[0].name,C=x.parents(a),D=x.attr("lay-filter"),B=C.find("input[name="+F.replace(/(\.|#|\[|\])/g,"\\$1")+"]");x[0].disabled||(layui.each(B,function(){var E=n(this).next("."+p);this.checked=!1,E.removeClass(p+"ed"),E.find(".layui-icon").removeClass(z).html(w[1])}),x[0].checked=!0,A.addClass(p+"ed"),A.find(".layui-icon").addClass(z).html(w[0]),layui.event.call(x[0],o,"radio("+D+")",{elem:x[0],value:x[0].value,othis:A}))})};q.each(function(D,B){var x=n(this),C=x.next("."+p),z=this.disabled;if("string"==typeof x.attr("lay-ignore")){return x.show()}var A=n(['<div class="layui-unselect '+p+(B.checked?" "+p+"ed":"")+(z?" layui-radio-disbaled "+y:"")+'">','<i class="layui-anim layui-icon">'+w[B.checked?0:1]+"</i>","<span>"+(B.title||"未命名")+"</span>","</div>"].join(""));C[0]&&C.remove(),x.after(A),m.call(this,A)})}};return k?j[k]?j[k]():t.error("不支持的"+k+"表单渲染"):layui.each(j,function(p,m){m()}),b};var c=function(){var b=n(this),p=l.config.verify,j=null,k="layui-form-danger",q={},h=b.parents(a),x=h.find("*[lay-verify]"),w=b.parents("form")[0],m=h.find("input,select,textarea"),g=b.attr("lay-filter");return layui.each(x,function(C,z){var D=n(this),B=D.attr("lay-verify").split("|"),E="",A=D.val();if(D.removeClass(k),layui.each(B,function(H,G){var F="function"==typeof p[G];if(p[G]&&(F?E=p[G](A,z):!p[G][0].test(A))){return d.msg(E||p[G][1],{icon:5,shift:6}),r.android||r.ios||z.focus(),D.addClass(k),j=!0}}),j){return j}}),!j&&(layui.each(m,function(A,z){z.name&&(/^checkbox|radio$/.test(z.type)&&!z.checked||(q[z.name]=z.value))}),layui.event.call(this,o,"submit("+g+")",{elem:this,form:w,field:q}))},l=new s,v=n(document),i=n(window);l.render(),v.on("reset",a,function(){var b=n(this).attr("lay-filter");setTimeout(function(){l.render(null,b)},50)}),v.on("submit",a,c).on("click","*[lay-submit]",c),f(o,l)});
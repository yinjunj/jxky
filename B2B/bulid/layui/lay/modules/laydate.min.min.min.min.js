!function(){var e=window.layui&&layui.define,l={getPath:function(){var k=document.scripts,b=k[k.length-1],j=b.src;if(!b.getAttribute("merge")){return j.substring(0,j.lastIndexOf("/")+1)}}(),getStyle:function(k,b){var j=k.currentStyle?k.currentStyle:window.getComputedStyle(k,null);return j[j.getPropertyValue?"getPropertyValue":"getAttribute"](b)},link:function(q,A,x){if(s.path){var k=document.getElementsByTagName("head")[0],b=document.createElement("link");"string"==typeof A&&(x=A);var z=(x||q).replace(/\.|\//g,""),B="layuicss-"+z,j=0;b.rel="stylesheet",b.href=s.path+q,b.id=B,document.getElementById(B)||k.appendChild(b),"function"==typeof A&&!function C(){return ++j>80?window.console&&console.error("laydate.css: Invalid"):void (1989===parseInt(l.getStyle(document.getElementById(B),"width"))?A():setTimeout(C,100))}()}}},s={v:"5.0.5",config:{},index:window.laydate&&window.laydate.v?100000:0,path:l.getPath,set:function(b){var j=this;return j.config=l.extend({},j.config,b),j},ready:function(j){var q="laydate",k="",b=(e?"modules/laydate/":"theme/")+"default/laydate.css?v="+s.v+k;return"function"==typeof define&&define.amd?j():(e?layui.addcss(b,j,q):l.link(b,j,q),this)}},a=function(){var b=this;return{hint:function(j){b.hint.call(b,j)},config:b.config}},n="laydate",i=".layui-laydate",t="layui-this",v="laydate-disabled",o="开始日期超出了结束日期<br>建议重新选择",d=[100,200000],c="layui-laydate-list",r="laydate-selected",p="layui-laydate-hint",h="laydate-day-prev",u="laydate-day-next",f="layui-laydate-footer",w=".laydate-btns-confirm",g="laydate-time-text",m=".laydate-btns-time",y=function(j){var b=this;b.index=++s.index,b.config=R.extend({},b.config,s.config,j),s.ready(function(){b.init()})},R=function(b){return new D(b)},D=function(k){for(var b=0,j="object"==typeof k?[k]:(this.selector=k,document.querySelectorAll(k||null));b<j.length;b++){this.push(j[b])}};D.prototype=[],D.prototype.constructor=D,R.extend=function(){var k=1,b=arguments,j=function(x,z){x=x||(z.constructor===Array?[]:{});for(var q in z){x[q]=z[q]&&z[q].constructor===Object?j(x[q],z[q]):z[q]}return x};for(b[0]="object"==typeof b[0]?b[0]:{};k<b.length;k++){"object"==typeof b[k]&&j(b[0],b[k])}return b[0]},R.ie=function(){var b=navigator.userAgent.toLowerCase();return !!(window.ActiveXObject||"ActiveXObject" in window)&&((b.match(/msie\s(\d+)/)||[])[1]||"11")}(),R.stope=function(b){b=b||win.event,b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},R.each=function(k,q){var b,j=this;if("function"!=typeof q){return j}if(k=k||[],k.constructor===Object){for(b in k){if(q.call(k[b],b,k[b])){break}}}else{for(b=0;b<k.length&&!q.call(k[b],b,k[b]);b++){}}return j},R.digit=function(k,q,x){var b="";k=String(k),q=q||2;for(var j=k.length;j<q;j++){b+="0"}return k<Math.pow(10,q)?b+(0|k):k},R.elem=function(k,b){var j=document.createElement(k);return R.each(b||{},function(q,x){j.setAttribute(q,x)}),j},D.addStr=function(j,b){return j=j.replace(/\s+/," "),b=b.replace(/\s+/," ").split(" "),R.each(b,function(k,q){new RegExp("\\b"+q+"\\b").test(j)||(j=j+" "+q)}),j.replace(/^\s|\s$/,"")},D.removeStr=function(j,b){return j=j.replace(/\s+/," "),b=b.replace(/\s+/," ").split(" "),R.each(b,function(k,q){var x=new RegExp("\\b"+q+"\\b");x.test(j)&&(j=j.replace(x,""))}),j.replace(/\s+/," ").replace(/^\s|\s$/,"")},D.prototype.find=function(k){var q=this,x=0,b=[],j="object"==typeof k;return this.each(function(z,B){for(var A=j?[k]:B.querySelectorAll(k||null);x<A.length;x++){b.push(A[x])}q.shift()}),j||(q.selector=(q.selector?q.selector+" ":"")+k),R.each(b,function(z,A){q.push(A)}),q},D.prototype.each=function(b){return R.each.call(this,this,b)},D.prototype.addClass=function(j,b){return this.each(function(q,k){k.className=D[b?"removeStr":"addStr"](k.className,j)})},D.prototype.removeClass=function(b){return this.addClass(b,!0)},D.prototype.hasClass=function(j){var b=!1;return this.each(function(q,k){new RegExp("\\b"+j+"\\b").test(k.className)&&(b=!0)}),b},D.prototype.attr=function(k,b){var j=this;return void 0===b?function(){if(j.length>0){return j[0].getAttribute(k)}}():j.each(function(q,x){x.setAttribute(k,b)})},D.prototype.removeAttr=function(b){return this.each(function(k,j){j.removeAttribute(b)})},D.prototype.html=function(b){return this.each(function(k,j){j.innerHTML=b})},D.prototype.val=function(b){return this.each(function(k,j){j.value=b})},D.prototype.append=function(b){return this.each(function(k,j){"object"==typeof b?j.appendChild(b):j.innerHTML=j.innerHTML+b})},D.prototype.remove=function(b){return this.each(function(k,j){b?j.removeChild(b):j.parentNode.removeChild(j)})},D.prototype.on=function(j,b){return this.each(function(q,k){k.attachEvent?k.attachEvent("on"+j,function(x){x.target=x.srcElement,b.call(k,x)}):k.addEventListener(j,b,!1)})},D.prototype.off=function(j,b){return this.each(function(q,k){k.detachEvent?k.detachEvent("on"+j,b):k.removeEventListener(j,b,!1)})},y.isLeapYear=function(b){return b%4===0&&b%100!==0||b%400===0},y.prototype.config={type:"date",range:!1,format:"yyyy-MM-dd",value:null,min:"1900-1-1",max:"2099-12-31",trigger:"focus",show:!1,showBottom:!0,btns:["clear","now","confirm"],lang:"cn",theme:"default",position:null,calendar:!1,mark:{},zIndex:null,done:null,change:null},y.prototype.lang=function(){var k=this,b=k.config,j={cn:{weeks:["日","一","二","三","四","五","六"],time:["时","分","秒"],timeTips:"选择时间",startTime:"开始时间",endTime:"结束时间",dateTips:"返回日期",month:["一","二","三","四","五","六","七","八","九","十","十一","十二"],tools:{confirm:"确定",clear:"清空",now:"现在"}},en:{weeks:["Su","Mo","Tu","We","Th","Fr","Sa"],time:["Hours","Minutes","Seconds"],timeTips:"Select Time",startTime:"Start Time",endTime:"End Time",dateTips:"Select Date",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tools:{confirm:"Confirm",clear:"Clear",now:"Now"}}};return j[b.lang]||j.cn},y.prototype.init=function(){var k=this,q=k.config,x="yyyy|y|MM|M|dd|d|HH|H|mm|m|ss|s",b="static"===q.position,j={year:"yyyy",month:"yyyy-MM",date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss"};q.elem=R(q.elem),q.eventElem=R(q.eventElem),q.elem[0]&&(q.range===!0&&(q.range="-"),q.format===j.date&&(q.format=j[q.type]),k.format=q.format.match(new RegExp(x+"|.","g"))||[],k.EXP_IF="",k.EXP_SPLIT="",R.each(k.format,function(A,z){var B=new RegExp(x).test(z)?"\\b\\d{1,"+function(){return/yyyy/.test(z)?4:/y/.test(z)?308:2}()+"}\\b":"\\"+z;k.EXP_IF=k.EXP_IF+B,k.EXP_SPLIT=k.EXP_SPLIT+(k.EXP_SPLIT?"|":"")+"("+B+")"}),k.EXP_IF=new RegExp("^"+(q.range?k.EXP_IF+"\\s\\"+q.range+"\\s"+k.EXP_IF:k.EXP_IF)+"$"),k.EXP_SPLIT=new RegExp(k.EXP_SPLIT,"g"),k.isInput(q.elem[0])||"focus"===q.trigger&&(q.trigger="click"),q.elem.attr("lay-key")||(q.elem.attr("lay-key",k.index),q.eventElem.attr("lay-key",k.index)),q.mark=R.extend({},q.calendar&&"cn"===q.lang?{"0-1-1":"元旦","0-2-14":"情人","0-3-8":"妇女","0-3-12":"植树","0-4-1":"愚人","0-5-1":"劳动","0-5-4":"青年","0-6-1":"儿童","0-9-10":"教师","0-9-18":"国耻","0-10-1":"国庆","0-12-25":"圣诞"}:{},q.mark),R.each(["min","max"],function(E,B){var A=[],z=[];if("number"==typeof q[B]){var F=q[B],C=(new Date).getTime(),G=86400000,H=new Date(F?F<G?C+F*G:F:C);A=[H.getFullYear(),H.getMonth()+1,H.getDate()],F<G||(z=[H.getHours(),H.getMinutes(),H.getSeconds()])}else{A=(q[B].match(/\d+-\d+-\d+/)||[""])[0].split("-"),z=(q[B].match(/\d+:\d+:\d+/)||[""])[0].split(":")}q[B]={year:0|A[0]||(new Date).getFullYear(),month:A[1]?(0|A[1])-1:(new Date).getMonth(),date:0|A[2]||(new Date).getDate(),hours:0|z[0],minutes:0|z[1],seconds:0|z[2]}}),k.elemID="layui-laydate"+q.elem.attr("lay-key"),(q.show||b)&&k.render(),b||k.events(),q.value&&(q.value.constructor===Date?k.setValue(k.parse(0,k.systemDate(q.value))):k.setValue(q.value)))},y.prototype.render=function(){var b=this,F=b.config,z=b.lang(),q="static"===F.position,j=b.elem=R.elem("div",{id:b.elemID,"class":["layui-laydate",F.range?" layui-laydate-range":"",q?" layui-laydate-static":"",F.theme&&"default"!==F.theme&&!/^#/.test(F.theme)?" laydate-theme-"+F.theme:""].join("")}),E=b.elemMain=[],C=b.elemHeader=[],B=b.elemCont=[],k=b.table=[],G=b.footer=R.elem("div",{"class":f});if(F.zIndex&&(j.style.zIndex=F.zIndex),R.each(new Array(2),function(M){if(!F.range&&M>0){return !0}var I=R.elem("div",{"class":"layui-laydate-header"}),N=[function(){var O=R.elem("i",{"class":"layui-icon laydate-icon laydate-prev-y"});return O.innerHTML="&#xe65a;",O}(),function(){var O=R.elem("i",{"class":"layui-icon laydate-icon laydate-prev-m"});return O.innerHTML="&#xe603;",O}(),function(){var Q=R.elem("div",{"class":"laydate-set-ym"}),O=R.elem("span"),P=R.elem("span");return Q.appendChild(O),Q.appendChild(P),Q}(),function(){var O=R.elem("i",{"class":"layui-icon laydate-icon laydate-next-m"});return O.innerHTML="&#xe602;",O}(),function(){var O=R.elem("i",{"class":"layui-icon laydate-icon laydate-next-y"});return O.innerHTML="&#xe65b;",O}()],L=R.elem("div",{"class":"layui-laydate-content"}),K=R.elem("table"),J=R.elem("thead"),H=R.elem("tr");R.each(N,function(P,O){I.appendChild(O)}),J.appendChild(H),R.each(new Array(6),function(P){var O=K.insertRow(0);R.each(new Array(7),function(S){if(0===P){var Q=R.elem("th");Q.innerHTML=z.weeks[S],H.appendChild(Q)}O.insertCell(S)})}),K.insertBefore(J,K.children[0]),L.appendChild(K),E[M]=R.elem("div",{"class":"layui-laydate-main laydate-main-list-"+M}),E[M].appendChild(I),E[M].appendChild(L),C.push(N),B.push(L),k.push(K)}),R(G).html(function(){var I=[],H=[];return"datetime"===F.type&&I.push('<span lay-type="datetime" class="laydate-btns-time">'+z.timeTips+"</span>"),R.each(F.btns,function(K,L){var J=z.tools[L]||"btn";F.range&&"now"===L||(q&&"clear"===L&&(J="cn"===F.lang?"重置":"Reset"),H.push('<span lay-type="'+L+'" class="laydate-btns-'+L+'">'+J+"</span>"))}),I.push('<div class="laydate-footer-btns">'+H.join("")+"</div>"),I.join("")}()),R.each(E,function(I,H){j.appendChild(H)}),F.showBottom&&j.appendChild(G),/^#/.test(F.theme)){var x=R.elem("style"),A=["#{{id}} .layui-laydate-header{background-color:{{theme}};}","#{{id}} .layui-this{background-color:{{theme}} !important;}"].join("").replace(/{{id}}/g,b.elemID).replace(/{{theme}}/g,F.theme);"styleSheet" in x?(x.setAttribute("type","text/css"),x.styleSheet.cssText=A):x.innerHTML=A,R(j).addClass("laydate-theme-molv"),j.appendChild(x)}b.remove(),q?F.elem.append(j):(document.body.appendChild(j),b.position()),b.checkDate().calendar(),b.changeEvent(),y.thisElem=b.elemID,"function"==typeof F.ready&&F.ready(R.extend({},F.dateTime,{month:F.dateTime.month+1}))},y.prototype.remove=function(){var k=this,b=k.config,j=R("#"+k.elemID);return j[0]&&"static"!==b.position&&k.checkDate(function(){j.remove()}),k},y.prototype.position=function(){var j=this,q=j.config,k=j.bindElem||q.elem[0],C=k.getBoundingClientRect(),z=j.elem.offsetWidth,B=j.elem.offsetHeight,x=function(G){return G=G?"scrollLeft":"scrollTop",document.body[G]|document.documentElement[G]},E=function(G){return document.documentElement[G?"clientWidth":"clientHeight"]},A=5,b=C.left,F=C.bottom;b+z+A>E("width")&&(b=E("width")-z-A),F+B+A>E()&&(F=C.top>B?C.top-B:E()-B,F-=2*A),q.position&&(j.elem.style.position=q.position),j.elem.style.left=b+("fixed"===q.position?0:x(1))+"px",j.elem.style.top=F+("fixed"===q.position?0:x())+"px"},y.prototype.hint=function(k){var b=this,j=(b.config,R.elem("div",{"class":p}));j.innerHTML=k||"",R(b.elem).find("."+p).remove(),b.elem.appendChild(j),clearTimeout(b.hinTimer),b.hinTimer=setTimeout(function(){R(b.elem).find("."+p).remove()},3000)},y.prototype.getAsYM=function(k,b,j){return j?b--:b++,b<0&&(b=11,k--),b>11&&(b=0,k++),[k,b]},y.prototype.systemDate=function(j){var b=j||new Date;return{year:b.getFullYear(),month:b.getMonth(),date:b.getDate(),hours:j?j.getHours():0,minutes:j?j.getMinutes():0,seconds:j?j.getSeconds():0}},y.prototype.checkDate=function(k){var B,C,x=this,q=(new Date,x.config),j=q.dateTime=q.dateTime||x.systemDate(),A=x.bindElem||q.elem[0],z=(x.isInput(A)?"val":"html",x.isInput(A)?A.value:"static"===q.position?"":A.innerHTML),b=function(F){F.year>d[1]&&(F.year=d[1],C=!0),F.month>11&&(F.month=11,C=!0),F.hours>23&&(F.hours=0,C=!0),F.minutes>59&&(F.minutes=0,F.hours++,C=!0),F.seconds>59&&(F.seconds=0,F.minutes++,C=!0),B=s.getEndDate(F.month+1,F.year),F.date>B&&(F.date=B,C=!0)},E=function(I,G,F){var H=["startTime","endTime"];G=G.match(x.EXP_SPLIT),F=F||0,q.range&&(x[H[F]]=x[H[F]]||{}),R.each(x.format,function(J,K){var L=parseFloat(G[J]);G[J].length<K.length&&(C=!0),/yyyy|y/.test(K)?(L<d[0]&&(L=d[0],C=!0),I.year=L):/MM|M/.test(K)?(L<1&&(L=1,C=!0),I.month=L-1):/dd|d/.test(K)?(L<1&&(L=1,C=!0),I.date=L):/HH|H/.test(K)?(L<1&&(L=0,C=!0),I.hours=L,q.range&&(x[H[F]].hours=L)):/mm|m/.test(K)?(L<1&&(L=0,C=!0),I.minutes=L,q.range&&(x[H[F]].minutes=L)):/ss|s/.test(K)&&(L<1&&(L=0,C=!0),I.seconds=L,q.range&&(x[H[F]].seconds=L))}),b(I)};return"limit"===k?(b(j),x):(z=z||q.value,"string"==typeof z&&(z=z.replace(/\s+/g," ").replace(/^\s|\s$/g,"")),x.startState&&!x.endState&&(delete x.startState,x.endState=!0),"string"==typeof z&&z?x.EXP_IF.test(z)?q.range?(z=z.split(" "+q.range+" "),x.startDate=x.startDate||x.systemDate(),x.endDate=x.endDate||x.systemDate(),q.dateTime=R.extend({},x.startDate),R.each([x.startDate,x.endDate],function(G,F){E(F,z[G],G)})):E(j,z):(x.hint("日期格式不合法<br>必须遵循下述格式：<br>"+(q.range?q.format+" "+q.range+" "+q.format:q.format)+"<br>已为你重置"),C=!0):z&&z.constructor===Date?q.dateTime=x.systemDate(z):(q.dateTime=x.systemDate(),delete x.startState,delete x.endState,delete x.startDate,delete x.endDate,delete x.startTime,delete x.endTime),b(j),C&&z&&x.setValue(q.range?x.endDate?x.parse():"":x.parse()),k&&k(),x)},y.prototype.mark=function(k,q){var x,b=this,j=b.config;return R.each(j.mark,function(z,B){var A=z.split("-");A[0]!=q[0]&&0!=A[0]||A[1]!=q[1]&&0!=A[1]||A[2]!=q[2]||(x=B||q[2])}),x&&k.html('<span class="laydate-day-mark">'+x+"</span>"),b},y.prototype.limit=function(b,q,z,A){var k,j=this,C=j.config,x={},E=C[z>41?"endDate":"dateTime"],B=R.extend({},E,q||{});return R.each({now:B,min:C.min,max:C.max},function(G,F){x[G]=j.newDate(R.extend({year:F.year,month:F.month,date:F.date},function(){var H={};return R.each(A,function(I,J){H[J]=F[J]}),H}())).getTime()}),k=x.now<x.min||x.now>x.max,b&&b[k?"addClass":"removeClass"](v),k},y.prototype.calendar=function(j){var B,G,C,k=this,E=k.config,H=j||E.dateTime,b=new Date,z=k.lang(),F="date"!==E.type&&"datetime"!==E.type,x=j?1:0,I=R(k.table[x]).find("td"),A=R(k.elemHeader[x][2]).find("span");if(H.year<d[0]&&(H.year=d[0],k.hint("最低只能支持到公元"+d[0]+"年")),H.year>d[1]&&(H.year=d[1],k.hint("最高只能支持到公元"+d[1]+"年")),k.firstDate||(k.firstDate=R.extend({},H)),b.setFullYear(H.year,H.month,1),B=b.getDay(),G=s.getEndDate(H.month,H.year),C=s.getEndDate(H.month+1,H.year),R.each(I,function(K,L){var J=[H.year,H.month],M=0;L=R(L),L.removeAttr("class"),K<B?(M=G-B+K,L.addClass("laydate-day-prev"),J=k.getAsYM(H.year,H.month,"sub")):K>=B&&K<C+B?(M=K-B,E.range||M+1===H.date&&L.addClass(t)):(M=K-C-B,L.addClass("laydate-day-next"),J=k.getAsYM(H.year,H.month)),J[1]++,J[2]=M+1,L.attr("lay-ymd",J.join("-")).html(J[2]),k.mark(L,J).limit(L,{year:J[0],month:J[1]-1,date:J[2]},K)}),R(A[0]).attr("lay-ym",H.year+"-"+(H.month+1)),R(A[1]).attr("lay-ym",H.year+"-"+(H.month+1)),"cn"===E.lang?(R(A[0]).attr("lay-type","year").html(H.year+"年"),R(A[1]).attr("lay-type","month").html(H.month+1+"月")):(R(A[0]).attr("lay-type","month").html(z.month[H.month]),R(A[1]).attr("lay-type","year").html(H.year)),F&&(E.range&&(j?k.endDate=k.endDate||{year:H.year+("year"===E.type?1:0),month:H.month+("month"===E.type?0:-1)}:k.startDate=k.startDate||{year:H.year,month:H.month},j&&(k.listYM=[[k.startDate.year,k.startDate.month+1],[k.endDate.year,k.endDate.month+1]],k.list(E.type,0).list(E.type,1),"time"===E.type?k.setBtnStatus("时间",R.extend({},k.systemDate(),k.startTime),R.extend({},k.systemDate(),k.endTime)):k.setBtnStatus(!0))),E.range||(k.listYM=[[H.year,H.month+1]],k.list(E.type,0))),E.range&&!j){var q=k.getAsYM(H.year,H.month);k.calendar(R.extend({},H,{year:q[0],month:q[1]}))}return E.range||k.limit(R(k.footer).find(w),null,0,["hours","minutes","seconds"]),E.range&&j&&!F&&k.stampRange(),k},y.prototype.list=function(L,J){var j=this,F=j.config,P=F.dateTime,C=j.lang(),S=F.range&&"date"!==F.type&&"datetime"!==F.type,K=R.elem("ul",{"class":c+" "+{year:"laydate-year-list",month:"laydate-month-list",time:"laydate-time-list"}[L]}),b=j.elemHeader[J],x=R(b[2]).find("span"),O=j.elemCont[J||0],E=R(O).find("."+c)[0],M="cn"===F.lang,G=M?"年":"",z=j.listYM[J]||{},B=["hours","minutes","seconds"],q=["startTime","endTime"][J];if(z[0]<1&&(z[0]=1),"year"===L){var I,H=I=z[0]-7;H<1&&(H=I=1),R.each(new Array(15),function(T){var V=R.elem("li",{"lay-ym":I}),U={year:I};I==z[0]&&R(V).addClass(t),V.innerHTML=I+G,K.appendChild(V),I<j.firstDate.year?(U.month=F.min.month,U.date=F.min.date):I>=j.firstDate.year&&(U.month=F.max.month,U.date=F.max.date),j.limit(R(V),U,J),I++}),R(x[M?0:1]).attr("lay-ym",I-8+"-"+z[1]).html(H+G+" - "+(I-1+G))}else{if("month"===L){R.each(new Array(12),function(T){var V=R.elem("li",{"lay-ym":T}),U={year:z[0],month:T};T+1==z[1]&&R(V).addClass(t),V.innerHTML=C.month[T]+(M?"月":""),K.appendChild(V),z[0]<j.firstDate.year?U.date=F.min.date:z[0]>=j.firstDate.year&&(U.date=F.max.date),j.limit(R(V),U,J)}),R(x[M?0:1]).attr("lay-ym",z[0]+"-"+z[1]).html(z[0]+G)}else{if("time"===L){var k=function(){R(K).find("ol").each(function(T,U){R(U).find("li").each(function(V,W){j.limit(R(W),[{hours:V},{hours:j[q].hours,minutes:V},{hours:j[q].hours,minutes:j[q].minutes,seconds:V}][T],J,[["hours"],["hours","minutes"],["hours","minutes","seconds"]][T])})}),F.range||j.limit(R(j.footer).find(w),j[q],0,["hours","minutes","seconds"])};F.range?j[q]||(j[q]={hours:0,minutes:0,seconds:0}):j[q]=P,R.each([24,60,60],function(U,V){var T=R.elem("li"),W=["<p>"+C.time[U]+"</p><ol>"];R.each(new Array(V),function(X){W.push("<li"+(j[q][B[U]]===X?' class="'+t+'"':"")+">"+R.digit(X,2)+"</li>")}),T.innerHTML=W.join("")+"</ol>",K.appendChild(T)}),k()}}}if(E&&O.removeChild(E),O.appendChild(K),"year"===L||"month"===L){R(j.elemMain[J]).addClass("laydate-ym-show"),R(K).find("li").on("click",function(){var T=0|R(this).attr("lay-ym");if(!R(this).hasClass(v)){if(0===J){P[L]=T,S&&(j.startDate[L]=T),j.limit(R(j.footer).find(w),null,0)}else{if(S){j.endDate[L]=T}else{var U="year"===L?j.getAsYM(T,z[1]-1,"sub"):j.getAsYM(z[0],T,"sub");R.extend(P,{year:U[0],month:U[1]})}}"year"===F.type||"month"===F.type?(R(K).find("."+t).removeClass(t),R(this).addClass(t),"month"===F.type&&"year"===L&&(j.listYM[J][0]=T,S&&(j[["startDate","endDate"][J]].year=T),j.list("month",J))):(j.checkDate("limit").calendar(),j.closeList()),j.setBtnStatus(),F.range||j.done(null,"change"),R(j.footer).find(m).removeClass(v)}})}else{var N=R.elem("span",{"class":g}),Q=function(){R(K).find("ol").each(function(V){var T=this,U=R(T).find("li");T.scrollTop=30*(j[q][B[V]]-2),T.scrollTop<=0&&U.each(function(X,W){if(!R(this).hasClass(v)){return T.scrollTop=30*(X-2),!0}})})},A=R(b[2]).find("."+g);Q(),N.innerHTML=F.range?[C.startTime,C.endTime][J]:C.timeTips,R(j.elemMain[J]).addClass("laydate-time-show"),A[0]&&A.remove(),b[2].appendChild(N),R(K).find("ol").each(function(U){var T=this;R(T).find("li").on("click",function(){var V=0|this.innerHTML;R(this).hasClass(v)||(F.range?j[q][B[U]]=V:P[B[U]]=V,R(T).find("."+t).removeClass(t),R(this).addClass(t),j.setBtnStatus(null,R.extend({},j.systemDate(),j.startTime),R.extend({},j.systemDate(),j.endTime)),k(),Q(),(j.endDate||"time"===F.type)&&j.done(null,"change"))})})}return j},y.prototype.listYM=[],y.prototype.closeList=function(){var b=this;b.config;R.each(b.elemCont,function(k,j){R(this).find("."+c).remove(),R(b.elemMain[k]).removeClass("laydate-ym-show laydate-time-show")}),R(b.elem).find("."+g).remove()},y.prototype.setBtnStatus=function(x,A,q){var j,k=this,z=k.config,B=R(k.footer).find(w),b=z.range&&"date"!==z.type&&"datetime"!==z.type;b&&(A=A||k.startDate,q=q||k.endDate,j=k.newDate(A).getTime()>k.newDate(q).getTime(),k.limit(null,A)||k.limit(null,q)?B.addClass(v):B[j?"addClass":"removeClass"](v),x&&j&&k.hint("string"==typeof x?o.replace(/日期/g,x):o))},y.prototype.parse=function(q,k){var z=this,j=z.config,b=k||(q?R.extend({},z.endDate,z.endTime):j.range?R.extend({},z.startDate,z.startTime):j.dateTime),x=z.format.concat();return R.each(x,function(A,B){/yyyy|y/.test(B)?x[A]=R.digit(b.year,B.length):/MM|M/.test(B)?x[A]=R.digit(b.month+1,B.length):/dd|d/.test(B)?x[A]=R.digit(b.date,B.length):/HH|H/.test(B)?x[A]=R.digit(b.hours,B.length):/mm|m/.test(B)?x[A]=R.digit(b.minutes,B.length):/ss|s/.test(B)&&(x[A]=R.digit(b.seconds,B.length))}),j.range&&!q?x.join("")+" "+j.range+" "+z.parse(1):x.join("")},y.prototype.newDate=function(b){return new Date(b.year||1,b.month||0,b.date||1,b.hours||0,b.minutes||0,b.seconds||0)},y.prototype.setValue=function(k){var q=this,x=q.config,b=q.bindElem||x.elem[0],j=q.isInput(b)?"val":"html";return"static"===x.position||R(b)[j](k||""),this},y.prototype.stampRange=function(){var k,q,x=this,b=x.config,j=R(x.elem).find("td");if(b.range&&!x.endDate&&R(x.footer).find(w).addClass(v),x.endDate){return k=x.newDate({year:x.startDate.year,month:x.startDate.month,date:x.startDate.date}).getTime(),q=x.newDate({year:x.endDate.year,month:x.endDate.month,date:x.endDate.date}).getTime(),k>q?x.hint(o):void R.each(j,function(z,C){var A=R(C).attr("lay-ymd").split("-"),B=x.newDate({year:A[0],month:A[1]-1,date:A[2]}).getTime();R(C).removeClass(r+" "+t),B!==k&&B!==q||R(C).addClass(R(C).hasClass(h)||R(C).hasClass(u)?r:t),B>k&&B<q&&R(C).addClass(r)})}},y.prototype.done=function(q,k){var z=this,j=z.config,b=R.extend({},z.startDate?R.extend(z.startDate,z.startTime):j.dateTime),x=R.extend({},R.extend(z.endDate,z.endTime));return R.each([b,x],function(A,B){"month" in B&&R.extend(B,{month:B.month+1})}),q=q||[z.parse(),b,x],"function"==typeof j[k||"done"]&&j[k||"done"].apply(j,q),z},y.prototype.choose=function(A){var z=this,x=z.config,B=x.dateTime,q=R(z.elem).find("td"),b=A.attr("lay-ymd").split("-"),j=function(C){new Date;C&&R.extend(B,b),x.range&&(z.startDate?R.extend(z.startDate,b):z.startDate=R.extend({},b,z.startTime),z.startYMD=b)};if(b={year:0|b[0],month:(0|b[1])-1,date:0|b[2]},!A.hasClass(v)){if(x.range){if(R.each(["startTime","endTime"],function(C,E){z[E]=z[E]||{hours:0,minutes:0,seconds:0}}),z.endState){j(),delete z.endState,delete z.endDate,z.startState=!0,q.removeClass(t+" "+r),A.addClass(t)}else{if(z.startState){if(A.addClass(t),z.endDate?R.extend(z.endDate,b):z.endDate=R.extend({},b,z.endTime),z.newDate(b).getTime()<z.newDate(z.startYMD).getTime()){var k=R.extend({},z.endDate,{hours:z.startDate.hours,minutes:z.startDate.minutes,seconds:z.startDate.seconds});R.extend(z.endDate,z.startDate,{hours:z.endDate.hours,minutes:z.endDate.minutes,seconds:z.endDate.seconds}),z.startDate=k}x.showBottom||z.done(),z.stampRange(),z.endState=!0,z.done(null,"change")}else{A.addClass(t),j(),z.startState=!0}}R(z.footer).find(w)[z.endDate?"removeClass":"addClass"](v)}else{"static"===x.position?(j(!0),z.calendar().done().done(null,"change")):"date"===x.type?(j(!0),z.setValue(z.parse()).remove().done()):"datetime"===x.type&&(j(!0),z.calendar().done(null,"change"))}}},y.prototype.tool=function(x,z){var A=this,b=A.config,j=b.dateTime,k="static"===b.position,q={datetime:function(){R(x).hasClass(v)||(A.list("time",0),b.range&&A.list("time",1),R(x).attr("lay-type","date").html(A.lang().dateTips))},date:function(){A.closeList(),R(x).attr("lay-type","datetime").html(A.lang().timeTips)},clear:function(){A.setValue("").remove(),k&&(R.extend(j,A.firstDate),A.calendar()),b.range&&(delete A.startState,delete A.endState,delete A.endDate,delete A.startTime,delete A.endTime),A.done(["",{},{}])},now:function(){var B=new Date;R.extend(j,A.systemDate(),{hours:B.getHours(),minutes:B.getMinutes(),seconds:B.getSeconds()}),A.setValue(A.parse()).remove(),k&&A.calendar(),A.done()},confirm:function(){if(b.range){if(!A.endDate){return A.hint("请先选择日期范围")}if(R(x).hasClass(v)){return A.hint("time"===b.type?o.replace(/日期/g,"时间"):o)}}else{if(R(x).hasClass(v)){return A.hint("不在有效日期或时间范围内")}}A.done(),A.setValue(A.parse()).remove()}};q[z]&&q[z]()},y.prototype.change=function(x){var A=this,k=A.config,j=k.dateTime,B=k.range&&("year"===k.type||"month"===k.type),z=A.elemCont[x||0],b=A.listYM[x],q=function(C){var F=["startDate","endDate"][x],G=R(z).find(".laydate-year-list")[0],E=R(z).find(".laydate-month-list")[0];return G&&(b[0]=C?b[0]-15:b[0]+15,A.list("year",x)),E&&(C?b[0]--:b[0]++,A.list("month",x)),(G||E)&&(R.extend(j,{year:b[0]}),B&&(A[F].year=b[0]),k.range||A.done(null,"change"),A.setBtnStatus(),k.range||A.limit(R(A.footer).find(w),{year:b[0]})),G||E};return{prevYear:function(){q("sub")||(j.year--,A.checkDate("limit").calendar(),k.range||A.done(null,"change"))},prevMonth:function(){var C=A.getAsYM(j.year,j.month,"sub");R.extend(j,{year:C[0],month:C[1]}),A.checkDate("limit").calendar(),k.range||A.done(null,"change")},nextMonth:function(){var C=A.getAsYM(j.year,j.month);R.extend(j,{year:C[0],month:C[1]}),A.checkDate("limit").calendar(),k.range||A.done(null,"change")},nextYear:function(){q()||(j.year++,A.checkDate("limit").calendar(),k.range||A.done(null,"change"))}}},y.prototype.changeEvent=function(){var b=this;b.config;R(b.elem).on("click",function(j){R.stope(j)}),R.each(b.elemHeader,function(k,j){R(j[0]).on("click",function(q){b.change(k).prevYear()}),R(j[1]).on("click",function(q){b.change(k).prevMonth()}),R(j[2]).find("span").on("click",function(x){var z=R(this),q=z.attr("lay-ym"),A=z.attr("lay-type");q&&(q=q.split("-"),b.listYM[k]=[0|q[0],0|q[1]],b.list(A,k),R(b.footer).find(m).addClass(v))}),R(j[3]).on("click",function(q){b.change(k).nextMonth()}),R(j[4]).on("click",function(q){b.change(k).nextYear()})}),R.each(b.table,function(q,k){var j=R(k).find("td");j.on("click",function(){b.choose(R(this))})}),R(b.footer).find("span").on("click",function(){var j=R(this).attr("lay-type");b.tool(this,j)})},y.prototype.isInput=function(b){return/input|textarea/.test(b.tagName.toLocaleLowerCase())},y.prototype.events=function(){var k=this,b=k.config,j=function(q,x){q.on(b.trigger,function(){x&&(k.bindElem=this),k.render()})};b.elem[0]&&!b.elem[0].eventHandler&&(j(b.elem,"bind"),j(b.eventElem),R(document).on("click",function(q){q.target!==b.elem[0]&&q.target!==b.eventElem[0]&&q.target!==R(b.closeStop)[0]&&k.remove()}).on("keydown",function(q){13===q.keyCode&&R("#"+k.elemID)[0]&&k.elemID===y.thisElem&&(q.preventDefault(),R(k.footer).find(w)[0].click())}),R(window).on("resize",function(){return !(!k.elem||!R(i)[0])&&void k.position()}),b.elem[0].eventHandler=!0)},s.render=function(j){var b=new y(j);return a.call(b)},s.getEndDate=function(k,b){var j=new Date;return j.setFullYear(b||j.getFullYear(),k||j.getMonth()+1,1),new Date(j.getTime()-86400000).getDate()},window.lay=window.lay||R,e?(s.ready(),layui.define(function(b){s.path=layui.cache.dir,b(n,s)})):"function"==typeof define&&define.amd?define(function(){return s}):function(){s.ready(),window.laydate=s}()}();
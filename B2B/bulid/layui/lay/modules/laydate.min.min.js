!function(){var e=window.layui&&layui.define,i={getPath:function(){var k=document.scripts,b=k[k.length-1],j=b.src;if(!b.getAttribute("merge")){return j.substring(0,j.lastIndexOf("/")+1)}}(),getStyle:function(k,b){var j=k.currentStyle?k.currentStyle:window.getComputedStyle(k,null);return j[j.getPropertyValue?"getPropertyValue":"getAttribute"](b)},link:function(j,B,k){if(p.path){var z=document.getElementsByTagName("head")[0],x=document.createElement("link");"string"==typeof B&&(k=B);var A=(k||j).replace(/\.|\//g,""),q="layuicss-"+A,b=0;x.rel="stylesheet",x.href=p.path+j,x.id=q,document.getElementById(q)||z.appendChild(x),"function"==typeof B&&!function C(){return ++b>80?window.console&&console.error("laydate.css: Invalid"):void (1989===parseInt(i.getStyle(document.getElementById(q),"width"))?B():setTimeout(C,100))}()}}},p={v:"5.0.5",config:{},index:window.laydate&&window.laydate.v?100000:0,path:i.getPath,set:function(b){var j=this;return j.config=i.extend({},j.config,b),j},ready:function(q){var k="laydate",j="",b=(e?"modules/laydate/":"theme/")+"default/laydate.css?v="+p.v+j;return"function"==typeof define&&define.amd?q():(e?layui.addcss(b,q,k):i.link(b,q,k),this)}},a=function(){var b=this;return{hint:function(j){b.hint.call(b,j)},config:b.config}},l="laydate",t=".layui-laydate",r="layui-this",v="laydate-disabled",m="开始日期超出了结束日期<br>建议重新选择",d=[100,200000],c="layui-laydate-list",o="laydate-selected",n="layui-laydate-hint",h="laydate-day-prev",D="laydate-day-next",f="layui-laydate-footer",s=".laydate-btns-confirm",g="laydate-time-text",u=".laydate-btns-time",w=function(j){var b=this;b.index=++p.index,b.config=R.extend({},b.config,p.config,j),p.ready(function(){b.init()})},R=function(b){return new y(b)},y=function(k){for(var b=0,j="object"==typeof k?[k]:(this.selector=k,document.querySelectorAll(k||null));b<j.length;b++){this.push(j[b])}};y.prototype=[],y.prototype.constructor=y,R.extend=function(){var k=1,b=arguments,j=function(q,x){q=q||(x.constructor===Array?[]:{});for(var z in x){q[z]=x[z]&&x[z].constructor===Object?j(q[z],x[z]):x[z]}return q};for(b[0]="object"==typeof b[0]?b[0]:{};k<b.length;k++){"object"==typeof b[k]&&j(b[0],b[k])}return b[0]},R.ie=function(){var b=navigator.userAgent.toLowerCase();return !!(window.ActiveXObject||"ActiveXObject" in window)&&((b.match(/msie\s(\d+)/)||[])[1]||"11")}(),R.stope=function(b){b=b||win.event,b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},R.each=function(j,k){var b,q=this;if("function"!=typeof k){return q}if(j=j||[],j.constructor===Object){for(b in j){if(k.call(j[b],b,j[b])){break}}}else{for(b=0;b<j.length&&!k.call(j[b],b,j[b]);b++){}}return q},R.digit=function(j,k,b){var x="";j=String(j),k=k||2;for(var q=j.length;q<k;q++){x+="0"}return j<Math.pow(10,k)?x+(0|j):j},R.elem=function(k,b){var j=document.createElement(k);return R.each(b||{},function(q,x){j.setAttribute(q,x)}),j},y.addStr=function(j,b){return j=j.replace(/\s+/," "),b=b.replace(/\s+/," ").split(" "),R.each(b,function(q,k){new RegExp("\\b"+k+"\\b").test(j)||(j=j+" "+k)}),j.replace(/^\s|\s$/,"")},y.removeStr=function(j,b){return j=j.replace(/\s+/," "),b=b.replace(/\s+/," ").split(" "),R.each(b,function(q,k){var x=new RegExp("\\b"+k+"\\b");x.test(j)&&(j=j.replace(x,""))}),j.replace(/\s+/," ").replace(/^\s|\s$/,"")},y.prototype.find=function(j){var k=this,b=0,x=[],q="object"==typeof j;return this.each(function(B,A){for(var z=q?[j]:A.querySelectorAll(j||null);b<z.length;b++){x.push(z[b])}k.shift()}),q||(k.selector=(k.selector?k.selector+" ":"")+j),R.each(x,function(z,A){k.push(A)}),k},y.prototype.each=function(b){return R.each.call(this,this,b)},y.prototype.addClass=function(j,b){return this.each(function(k,q){q.className=y[b?"removeStr":"addStr"](q.className,j)})},y.prototype.removeClass=function(b){return this.addClass(b,!0)},y.prototype.hasClass=function(j){var b=!1;return this.each(function(k,q){new RegExp("\\b"+j+"\\b").test(q.className)&&(b=!0)}),b},y.prototype.attr=function(k,b){var j=this;return void 0===b?function(){if(j.length>0){return j[0].getAttribute(k)}}():j.each(function(q,x){x.setAttribute(k,b)})},y.prototype.removeAttr=function(b){return this.each(function(k,j){j.removeAttribute(b)})},y.prototype.html=function(b){return this.each(function(k,j){j.innerHTML=b})},y.prototype.val=function(b){return this.each(function(k,j){j.value=b})},y.prototype.append=function(b){return this.each(function(k,j){"object"==typeof b?j.appendChild(b):j.innerHTML=j.innerHTML+b})},y.prototype.remove=function(b){return this.each(function(k,j){b?j.removeChild(b):j.parentNode.removeChild(j)})},y.prototype.on=function(j,b){return this.each(function(k,q){q.attachEvent?q.attachEvent("on"+j,function(x){x.target=x.srcElement,b.call(q,x)}):q.addEventListener(j,b,!1)})},y.prototype.off=function(j,b){return this.each(function(k,q){q.detachEvent?q.detachEvent("on"+j,b):q.removeEventListener(j,b,!1)})},w.isLeapYear=function(b){return b%4===0&&b%100!==0||b%400===0},w.prototype.config={type:"date",range:!1,format:"yyyy-MM-dd",value:null,min:"1900-1-1",max:"2099-12-31",trigger:"focus",show:!1,showBottom:!0,btns:["clear","now","confirm"],lang:"cn",theme:"default",position:null,calendar:!1,mark:{},zIndex:null,done:null,change:null},w.prototype.lang=function(){var k=this,b=k.config,j={cn:{weeks:["日","一","二","三","四","五","六"],time:["时","分","秒"],timeTips:"选择时间",startTime:"开始时间",endTime:"结束时间",dateTips:"返回日期",month:["一","二","三","四","五","六","七","八","九","十","十一","十二"],tools:{confirm:"确定",clear:"清空",now:"现在"}},en:{weeks:["Su","Mo","Tu","We","Th","Fr","Sa"],time:["Hours","Minutes","Seconds"],timeTips:"Select Time",startTime:"Start Time",endTime:"End Time",dateTips:"Select Date",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tools:{confirm:"Confirm",clear:"Clear",now:"Now"}}};return j[b.lang]||j.cn},w.prototype.init=function(){var j=this,k=j.config,b="yyyy|y|MM|M|dd|d|HH|H|mm|m|ss|s",x="static"===k.position,q={year:"yyyy",month:"yyyy-MM",date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss"};k.elem=R(k.elem),k.eventElem=R(k.eventElem),k.elem[0]&&(k.range===!0&&(k.range="-"),k.format===q.date&&(k.format=q[k.type]),j.format=k.format.match(new RegExp(b+"|.","g"))||[],j.EXP_IF="",j.EXP_SPLIT="",R.each(j.format,function(z,B){var A=new RegExp(b).test(B)?"\\b\\d{1,"+function(){return/yyyy/.test(B)?4:/y/.test(B)?308:2}()+"}\\b":"\\"+B;j.EXP_IF=j.EXP_IF+A,j.EXP_SPLIT=j.EXP_SPLIT+(j.EXP_SPLIT?"|":"")+"("+A+")"}),j.EXP_IF=new RegExp("^"+(k.range?j.EXP_IF+"\\s\\"+k.range+"\\s"+j.EXP_IF:j.EXP_IF)+"$"),j.EXP_SPLIT=new RegExp(j.EXP_SPLIT,"g"),j.isInput(k.elem[0])||"focus"===k.trigger&&(k.trigger="click"),k.elem.attr("lay-key")||(k.elem.attr("lay-key",j.index),k.eventElem.attr("lay-key",j.index)),k.mark=R.extend({},k.calendar&&"cn"===k.lang?{"0-1-1":"元旦","0-2-14":"情人","0-3-8":"妇女","0-3-12":"植树","0-4-1":"愚人","0-5-1":"劳动","0-5-4":"青年","0-6-1":"儿童","0-9-10":"教师","0-9-18":"国耻","0-10-1":"国庆","0-12-25":"圣诞"}:{},k.mark),R.each(["min","max"],function(A,G){var F=[],E=[];if("number"==typeof k[G]){var B=k[G],H=(new Date).getTime(),C=86400000,z=new Date(B?B<C?H+B*C:B:H);F=[z.getFullYear(),z.getMonth()+1,z.getDate()],B<C||(E=[z.getHours(),z.getMinutes(),z.getSeconds()])}else{F=(k[G].match(/\d+-\d+-\d+/)||[""])[0].split("-"),E=(k[G].match(/\d+:\d+:\d+/)||[""])[0].split(":")}k[G]={year:0|F[0]||(new Date).getFullYear(),month:F[1]?(0|F[1])-1:(new Date).getMonth(),date:0|F[2]||(new Date).getDate(),hours:0|E[0],minutes:0|E[1],seconds:0|E[2]}}),j.elemID="layui-laydate"+k.elem.attr("lay-key"),(k.show||x)&&j.render(),x||j.events(),k.value&&(k.value.constructor===Date?j.setValue(j.parse(0,j.systemDate(k.value))):j.setValue(k.value)))},w.prototype.render=function(){var E=this,q=E.config,z=E.lang(),x="static"===q.position,F=E.elem=R.elem("div",{id:E.elemID,"class":["layui-laydate",q.range?" layui-laydate-range":"",x?" layui-laydate-static":"",q.theme&&"default"!==q.theme&&!/^#/.test(q.theme)?" laydate-theme-"+q.theme:""].join("")}),B=E.elemMain=[],A=E.elemHeader=[],k=E.elemCont=[],G=E.table=[],C=E.footer=R.elem("div",{"class":f});if(q.zIndex&&(F.style.zIndex=q.zIndex),R.each(new Array(2),function(K){if(!q.range&&K>0){return !0}var N=R.elem("div",{"class":"layui-laydate-header"}),L=[function(){var O=R.elem("i",{"class":"layui-icon laydate-icon laydate-prev-y"});return O.innerHTML="&#xe65a;",O}(),function(){var O=R.elem("i",{"class":"layui-icon laydate-icon laydate-prev-m"});return O.innerHTML="&#xe603;",O}(),function(){var Q=R.elem("div",{"class":"laydate-set-ym"}),O=R.elem("span"),P=R.elem("span");return Q.appendChild(O),Q.appendChild(P),Q}(),function(){var O=R.elem("i",{"class":"layui-icon laydate-icon laydate-next-m"});return O.innerHTML="&#xe602;",O}(),function(){var O=R.elem("i",{"class":"layui-icon laydate-icon laydate-next-y"});return O.innerHTML="&#xe65b;",O}()],J=R.elem("div",{"class":"layui-laydate-content"}),I=R.elem("table"),H=R.elem("thead"),M=R.elem("tr");R.each(L,function(P,O){N.appendChild(O)}),H.appendChild(M),R.each(new Array(6),function(P){var O=I.insertRow(0);R.each(new Array(7),function(S){if(0===P){var Q=R.elem("th");Q.innerHTML=z.weeks[S],M.appendChild(Q)}O.insertCell(S)})}),I.insertBefore(H,I.children[0]),J.appendChild(I),B[K]=R.elem("div",{"class":"layui-laydate-main laydate-main-list-"+K}),B[K].appendChild(N),B[K].appendChild(J),A.push(L),k.push(J),G.push(I)}),R(C).html(function(){var I=[],H=[];return"datetime"===q.type&&I.push('<span lay-type="datetime" class="laydate-btns-time">'+z.timeTips+"</span>"),R.each(q.btns,function(K,L){var J=z.tools[L]||"btn";q.range&&"now"===L||(x&&"clear"===L&&(J="cn"===q.lang?"重置":"Reset"),H.push('<span lay-type="'+L+'" class="laydate-btns-'+L+'">'+J+"</span>"))}),I.push('<div class="laydate-footer-btns">'+H.join("")+"</div>"),I.join("")}()),R.each(B,function(I,H){F.appendChild(H)}),q.showBottom&&F.appendChild(C),/^#/.test(q.theme)){var b=R.elem("style"),j=["#{{id}} .layui-laydate-header{background-color:{{theme}};}","#{{id}} .layui-this{background-color:{{theme}} !important;}"].join("").replace(/{{id}}/g,E.elemID).replace(/{{theme}}/g,q.theme);"styleSheet" in b?(b.setAttribute("type","text/css"),b.styleSheet.cssText=j):b.innerHTML=j,R(F).addClass("laydate-theme-molv"),F.appendChild(b)}E.remove(),x?q.elem.append(F):(document.body.appendChild(F),E.position()),E.checkDate().calendar(),E.changeEvent(),w.thisElem=E.elemID,"function"==typeof q.ready&&q.ready(R.extend({},q.dateTime,{month:q.dateTime.month+1}))},w.prototype.remove=function(){var k=this,b=k.config,j=R("#"+k.elemID);return j[0]&&"static"!==b.position&&k.checkDate(function(){j.remove()}),k},w.prototype.position=function(){var F=this,b=F.config,x=F.bindElem||b.elem[0],B=x.getBoundingClientRect(),j=F.elem.offsetWidth,A=F.elem.offsetHeight,z=function(G){return G=G?"scrollLeft":"scrollTop",document.body[G]|document.documentElement[G]},q=function(G){return document.documentElement[G?"clientWidth":"clientHeight"]},k=5,E=B.left,C=B.bottom;E+j+k>q("width")&&(E=q("width")-j-k),C+A+k>q()&&(C=B.top>A?B.top-A:q()-A,C-=2*k),b.position&&(F.elem.style.position=b.position),F.elem.style.left=E+("fixed"===b.position?0:z(1))+"px",F.elem.style.top=C+("fixed"===b.position?0:z())+"px"},w.prototype.hint=function(k){var b=this,j=(b.config,R.elem("div",{"class":n}));j.innerHTML=k||"",R(b.elem).find("."+n).remove(),b.elem.appendChild(j),clearTimeout(b.hinTimer),b.hinTimer=setTimeout(function(){R(b.elem).find("."+n).remove()},3000)},w.prototype.getAsYM=function(k,b,j){return j?b--:b++,b<0&&(b=11,k--),b>11&&(b=0,k++),[k,b]},w.prototype.systemDate=function(j){var b=j||new Date;return{year:b.getFullYear(),month:b.getMonth(),date:b.getDate(),hours:j?j.getHours():0,minutes:j?j.getMinutes():0,seconds:j?j.getSeconds():0}},w.prototype.checkDate=function(b){var B,C,j=this,z=(new Date,j.config),x=z.dateTime=z.dateTime||j.systemDate(),A=j.bindElem||z.elem[0],k=(j.isInput(A)?"val":"html",j.isInput(A)?A.value:"static"===z.position?"":A.innerHTML),E=function(F){F.year>d[1]&&(F.year=d[1],C=!0),F.month>11&&(F.month=11,C=!0),F.hours>23&&(F.hours=0,C=!0),F.minutes>59&&(F.minutes=0,F.hours++,C=!0),F.seconds>59&&(F.seconds=0,F.minutes++,C=!0),B=p.getEndDate(F.month+1,F.year),F.date>B&&(F.date=B,C=!0)},q=function(I,G,F){var H=["startTime","endTime"];G=G.match(j.EXP_SPLIT),F=F||0,z.range&&(j[H[F]]=j[H[F]]||{}),R.each(j.format,function(J,K){var L=parseFloat(G[J]);G[J].length<K.length&&(C=!0),/yyyy|y/.test(K)?(L<d[0]&&(L=d[0],C=!0),I.year=L):/MM|M/.test(K)?(L<1&&(L=1,C=!0),I.month=L-1):/dd|d/.test(K)?(L<1&&(L=1,C=!0),I.date=L):/HH|H/.test(K)?(L<1&&(L=0,C=!0),I.hours=L,z.range&&(j[H[F]].hours=L)):/mm|m/.test(K)?(L<1&&(L=0,C=!0),I.minutes=L,z.range&&(j[H[F]].minutes=L)):/ss|s/.test(K)&&(L<1&&(L=0,C=!0),I.seconds=L,z.range&&(j[H[F]].seconds=L))}),E(I)};return"limit"===b?(E(x),j):(k=k||z.value,"string"==typeof k&&(k=k.replace(/\s+/g," ").replace(/^\s|\s$/g,"")),j.startState&&!j.endState&&(delete j.startState,j.endState=!0),"string"==typeof k&&k?j.EXP_IF.test(k)?z.range?(k=k.split(" "+z.range+" "),j.startDate=j.startDate||j.systemDate(),j.endDate=j.endDate||j.systemDate(),z.dateTime=R.extend({},j.startDate),R.each([j.startDate,j.endDate],function(G,F){q(F,k[G],G)})):q(x,k):(j.hint("日期格式不合法<br>必须遵循下述格式：<br>"+(z.range?z.format+" "+z.range+" "+z.format:z.format)+"<br>已为你重置"),C=!0):k&&k.constructor===Date?z.dateTime=j.systemDate(k):(z.dateTime=j.systemDate(),delete j.startState,delete j.endState,delete j.startDate,delete j.endDate,delete j.startTime,delete j.endTime),E(x),C&&k&&j.setValue(z.range?j.endDate?j.parse():"":j.parse()),b&&b(),j)},w.prototype.mark=function(j,k){var b,x=this,q=x.config;return R.each(q.mark,function(B,A){var z=B.split("-");z[0]!=k[0]&&0!=z[0]||z[1]!=k[1]&&0!=z[1]||z[2]!=k[2]||(b=A||k[2])}),b&&j.html('<span class="laydate-day-mark">'+b+"</span>"),x},w.prototype.limit=function(E,z,k,A){var b,x=this,q=x.config,j={},C=q[k>41?"endDate":"dateTime"],B=R.extend({},C,z||{});return R.each({now:B,min:q.min,max:q.max},function(G,F){j[G]=x.newDate(R.extend({year:F.year,month:F.month,date:F.date},function(){var H={};return R.each(A,function(I,J){H[J]=F[J]}),H}())).getTime()}),b=j.now<j.min||j.now>j.max,E&&E[b?"addClass":"removeClass"](v),b},w.prototype.calendar=function(F){var z,B,j,G=this,k=G.config,q=F||k.dateTime,E=new Date,x=G.lang(),A="date"!==k.type&&"datetime"!==k.type,I=F?1:0,C=R(G.table[I]).find("td"),b=R(G.elemHeader[I][2]).find("span");if(q.year<d[0]&&(q.year=d[0],G.hint("最低只能支持到公元"+d[0]+"年")),q.year>d[1]&&(q.year=d[1],G.hint("最高只能支持到公元"+d[1]+"年")),G.firstDate||(G.firstDate=R.extend({},q)),E.setFullYear(q.year,q.month,1),z=E.getDay(),B=p.getEndDate(q.month,q.year),j=p.getEndDate(q.month+1,q.year),R.each(C,function(J,K){var M=[q.year,q.month],L=0;K=R(K),K.removeAttr("class"),J<z?(L=B-z+J,K.addClass("laydate-day-prev"),M=G.getAsYM(q.year,q.month,"sub")):J>=z&&J<j+z?(L=J-z,k.range||L+1===q.date&&K.addClass(r)):(L=J-j-z,K.addClass("laydate-day-next"),M=G.getAsYM(q.year,q.month)),M[1]++,M[2]=L+1,K.attr("lay-ymd",M.join("-")).html(M[2]),G.mark(K,M).limit(K,{year:M[0],month:M[1]-1,date:M[2]},J)}),R(b[0]).attr("lay-ym",q.year+"-"+(q.month+1)),R(b[1]).attr("lay-ym",q.year+"-"+(q.month+1)),"cn"===k.lang?(R(b[0]).attr("lay-type","year").html(q.year+"年"),R(b[1]).attr("lay-type","month").html(q.month+1+"月")):(R(b[0]).attr("lay-type","month").html(x.month[q.month]),R(b[1]).attr("lay-type","year").html(q.year)),A&&(k.range&&(F?G.endDate=G.endDate||{year:q.year+("year"===k.type?1:0),month:q.month+("month"===k.type?0:-1)}:G.startDate=G.startDate||{year:q.year,month:q.month},F&&(G.listYM=[[G.startDate.year,G.startDate.month+1],[G.endDate.year,G.endDate.month+1]],G.list(k.type,0).list(k.type,1),"time"===k.type?G.setBtnStatus("时间",R.extend({},G.systemDate(),G.startTime),R.extend({},G.systemDate(),G.endTime)):G.setBtnStatus(!0))),k.range||(G.listYM=[[q.year,q.month+1]],G.list(k.type,0))),k.range&&!F){var H=G.getAsYM(q.year,q.month);G.calendar(R.extend({},q,{year:H[0],month:H[1]}))}return k.range||G.limit(R(G.footer).find(s),null,0,["hours","minutes","seconds"]),k.range&&F&&!A&&G.stampRange(),G},w.prototype.list=function(L,z){var j=this,H=j.config,P=H.dateTime,k=j.lang(),S=H.range&&"date"!==H.type&&"datetime"!==H.type,K=R.elem("ul",{"class":c+" "+{year:"laydate-year-list",month:"laydate-month-list",time:"laydate-time-list"}[L]}),b=j.elemHeader[z],B=R(b[2]).find("span"),O=j.elemCont[z||0],G=R(O).find("."+c)[0],M="cn"===H.lang,x=M?"年":"",C=j.listYM[z]||{},F=["hours","minutes","seconds"],q=["startTime","endTime"][z];if(C[0]<1&&(C[0]=1),"year"===L){var J,I=J=C[0]-7;I<1&&(I=J=1),R.each(new Array(15),function(U){var T=R.elem("li",{"lay-ym":J}),V={year:J};J==C[0]&&R(T).addClass(r),T.innerHTML=J+x,K.appendChild(T),J<j.firstDate.year?(V.month=H.min.month,V.date=H.min.date):J>=j.firstDate.year&&(V.month=H.max.month,V.date=H.max.date),j.limit(R(T),V,z),J++}),R(B[M?0:1]).attr("lay-ym",J-8+"-"+C[1]).html(I+x+" - "+(J-1+x))}else{if("month"===L){R.each(new Array(12),function(U){var T=R.elem("li",{"lay-ym":U}),V={year:C[0],month:U};U+1==C[1]&&R(T).addClass(r),T.innerHTML=k.month[U]+(M?"月":""),K.appendChild(T),C[0]<j.firstDate.year?V.date=H.min.date:C[0]>=j.firstDate.year&&(V.date=H.max.date),j.limit(R(T),V,z)}),R(B[M?0:1]).attr("lay-ym",C[0]+"-"+C[1]).html(C[0]+x)}else{if("time"===L){var A=function(){R(K).find("ol").each(function(T,U){R(U).find("li").each(function(W,V){j.limit(R(V),[{hours:W},{hours:j[q].hours,minutes:W},{hours:j[q].hours,minutes:j[q].minutes,seconds:W}][T],z,[["hours"],["hours","minutes"],["hours","minutes","seconds"]][T])})}),H.range||j.limit(R(j.footer).find(s),j[q],0,["hours","minutes","seconds"])};H.range?j[q]||(j[q]={hours:0,minutes:0,seconds:0}):j[q]=P,R.each([24,60,60],function(T,U){var W=R.elem("li"),V=["<p>"+k.time[T]+"</p><ol>"];R.each(new Array(U),function(X){V.push("<li"+(j[q][F[T]]===X?' class="'+r+'"':"")+">"+R.digit(X,2)+"</li>")}),W.innerHTML=V.join("")+"</ol>",K.appendChild(W)}),A()}}}if(G&&O.removeChild(G),O.appendChild(K),"year"===L||"month"===L){R(j.elemMain[z]).addClass("laydate-ym-show"),R(K).find("li").on("click",function(){var T=0|R(this).attr("lay-ym");if(!R(this).hasClass(v)){if(0===z){P[L]=T,S&&(j.startDate[L]=T),j.limit(R(j.footer).find(s),null,0)}else{if(S){j.endDate[L]=T}else{var U="year"===L?j.getAsYM(T,C[1]-1,"sub"):j.getAsYM(C[0],T,"sub");R.extend(P,{year:U[0],month:U[1]})}}"year"===H.type||"month"===H.type?(R(K).find("."+r).removeClass(r),R(this).addClass(r),"month"===H.type&&"year"===L&&(j.listYM[z][0]=T,S&&(j[["startDate","endDate"][z]].year=T),j.list("month",z))):(j.checkDate("limit").calendar(),j.closeList()),j.setBtnStatus(),H.range||j.done(null,"change"),R(j.footer).find(u).removeClass(v)}})}else{var N=R.elem("span",{"class":g}),Q=function(){R(K).find("ol").each(function(T){var U=this,V=R(U).find("li");U.scrollTop=30*(j[q][F[T]]-2),U.scrollTop<=0&&V.each(function(W,X){if(!R(this).hasClass(v)){return U.scrollTop=30*(W-2),!0}})})},E=R(b[2]).find("."+g);Q(),N.innerHTML=H.range?[k.startTime,k.endTime][z]:k.timeTips,R(j.elemMain[z]).addClass("laydate-time-show"),E[0]&&E.remove(),b[2].appendChild(N),R(K).find("ol").each(function(U){var T=this;R(T).find("li").on("click",function(){var V=0|this.innerHTML;R(this).hasClass(v)||(H.range?j[q][F[U]]=V:P[F[U]]=V,R(T).find("."+r).removeClass(r),R(this).addClass(r),j.setBtnStatus(null,R.extend({},j.systemDate(),j.startTime),R.extend({},j.systemDate(),j.endTime)),A(),Q(),(j.endDate||"time"===H.type)&&j.done(null,"change"))})})}return j},w.prototype.listYM=[],w.prototype.closeList=function(){var b=this;b.config;R.each(b.elemCont,function(k,j){R(this).find("."+c).remove(),R(b.elemMain[k]).removeClass("laydate-ym-show laydate-time-show")}),R(b.elem).find("."+g).remove()},w.prototype.setBtnStatus=function(j,x,q){var B,z=this,k=z.config,A=R(z.footer).find(s),b=k.range&&"date"!==k.type&&"datetime"!==k.type;b&&(x=x||z.startDate,q=q||z.endDate,B=z.newDate(x).getTime()>z.newDate(q).getTime(),z.limit(null,x)||z.limit(null,q)?A.addClass(v):A[B?"addClass":"removeClass"](v),j&&B&&z.hint("string"==typeof j?m.replace(/日期/g,j):m))},w.prototype.parse=function(j,q){var b=this,z=b.config,x=q||(j?R.extend({},b.endDate,b.endTime):z.range?R.extend({},b.startDate,b.startTime):z.dateTime),k=b.format.concat();return R.each(k,function(B,A){/yyyy|y/.test(A)?k[B]=R.digit(x.year,A.length):/MM|M/.test(A)?k[B]=R.digit(x.month+1,A.length):/dd|d/.test(A)?k[B]=R.digit(x.date,A.length):/HH|H/.test(A)?k[B]=R.digit(x.hours,A.length):/mm|m/.test(A)?k[B]=R.digit(x.minutes,A.length):/ss|s/.test(A)&&(k[B]=R.digit(x.seconds,A.length))}),z.range&&!j?k.join("")+" "+z.range+" "+b.parse(1):k.join("")},w.prototype.newDate=function(b){return new Date(b.year||1,b.month||0,b.date||1,b.hours||0,b.minutes||0,b.seconds||0)},w.prototype.setValue=function(j){var k=this,b=k.config,x=k.bindElem||b.elem[0],q=k.isInput(x)?"val":"html";return"static"===b.position||R(x)[q](j||""),this},w.prototype.stampRange=function(){var j,k,b=this,x=b.config,q=R(b.elem).find("td");if(x.range&&!b.endDate&&R(b.footer).find(s).addClass(v),b.endDate){return j=b.newDate({year:b.startDate.year,month:b.startDate.month,date:b.startDate.date}).getTime(),k=b.newDate({year:b.endDate.year,month:b.endDate.month,date:b.endDate.date}).getTime(),j>k?b.hint(m):void R.each(q,function(B,A){var C=R(A).attr("lay-ymd").split("-"),z=b.newDate({year:C[0],month:C[1]-1,date:C[2]}).getTime();R(A).removeClass(o+" "+r),z!==j&&z!==k||R(A).addClass(R(A).hasClass(h)||R(A).hasClass(D)?o:r),z>j&&z<k&&R(A).addClass(o)})}},w.prototype.done=function(j,q){var b=this,z=b.config,x=R.extend({},b.startDate?R.extend(b.startDate,b.startTime):z.dateTime),k=R.extend({},R.extend(b.endDate,b.endTime));return R.each([x,k],function(B,A){"month" in A&&R.extend(A,{month:A.month+1})}),j=j||[b.parse(),x,k],"function"==typeof z[q||"done"]&&z[q||"done"].apply(z,j),b},w.prototype.choose=function(A){var k=this,j=k.config,x=j.dateTime,q=R(k.elem).find("td"),b=A.attr("lay-ymd").split("-"),B=function(C){new Date;C&&R.extend(x,b),j.range&&(k.startDate?R.extend(k.startDate,b):k.startDate=R.extend({},b,k.startTime),k.startYMD=b)};if(b={year:0|b[0],month:(0|b[1])-1,date:0|b[2]},!A.hasClass(v)){if(j.range){if(R.each(["startTime","endTime"],function(C,E){k[E]=k[E]||{hours:0,minutes:0,seconds:0}}),k.endState){B(),delete k.endState,delete k.endDate,k.startState=!0,q.removeClass(r+" "+o),A.addClass(r)}else{if(k.startState){if(A.addClass(r),k.endDate?R.extend(k.endDate,b):k.endDate=R.extend({},b,k.endTime),k.newDate(b).getTime()<k.newDate(k.startYMD).getTime()){var z=R.extend({},k.endDate,{hours:k.startDate.hours,minutes:k.startDate.minutes,seconds:k.startDate.seconds});R.extend(k.endDate,k.startDate,{hours:k.endDate.hours,minutes:k.endDate.minutes,seconds:k.endDate.seconds}),k.startDate=z}j.showBottom||k.done(),k.stampRange(),k.endState=!0,k.done(null,"change")}else{A.addClass(r),B(),k.startState=!0}}R(k.footer).find(s)[k.endDate?"removeClass":"addClass"](v)}else{"static"===j.position?(B(!0),k.calendar().done().done(null,"change")):"date"===j.type?(B(!0),k.setValue(k.parse()).remove().done()):"datetime"===j.type&&(B(!0),k.calendar().done(null,"change"))}}},w.prototype.tool=function(k,x){var b=this,A=b.config,z=A.dateTime,q="static"===A.position,j={datetime:function(){R(k).hasClass(v)||(b.list("time",0),A.range&&b.list("time",1),R(k).attr("lay-type","date").html(b.lang().dateTips))},date:function(){b.closeList(),R(k).attr("lay-type","datetime").html(b.lang().timeTips)},clear:function(){b.setValue("").remove(),q&&(R.extend(z,b.firstDate),b.calendar()),A.range&&(delete b.startState,delete b.endState,delete b.endDate,delete b.startTime,delete b.endTime),b.done(["",{},{}])},now:function(){var B=new Date;R.extend(z,b.systemDate(),{hours:B.getHours(),minutes:B.getMinutes(),seconds:B.getSeconds()}),b.setValue(b.parse()).remove(),q&&b.calendar(),b.done()},confirm:function(){if(A.range){if(!b.endDate){return b.hint("请先选择日期范围")}if(R(k).hasClass(v)){return b.hint("time"===A.type?m.replace(/日期/g,"时间"):m)}}else{if(R(k).hasClass(v)){return b.hint("不在有效日期或时间范围内")}}b.done(),b.setValue(b.parse()).remove()}};j[x]&&j[x]()},w.prototype.change=function(j){var x=this,z=x.config,B=z.dateTime,A=z.range&&("year"===z.type||"month"===z.type),k=x.elemCont[j||0],b=x.listYM[j],q=function(F){var C=["startDate","endDate"][j],E=R(k).find(".laydate-year-list")[0],G=R(k).find(".laydate-month-list")[0];return E&&(b[0]=F?b[0]-15:b[0]+15,x.list("year",j)),G&&(F?b[0]--:b[0]++,x.list("month",j)),(E||G)&&(R.extend(B,{year:b[0]}),A&&(x[C].year=b[0]),z.range||x.done(null,"change"),x.setBtnStatus(),z.range||x.limit(R(x.footer).find(s),{year:b[0]})),E||G};return{prevYear:function(){q("sub")||(B.year--,x.checkDate("limit").calendar(),z.range||x.done(null,"change"))},prevMonth:function(){var C=x.getAsYM(B.year,B.month,"sub");R.extend(B,{year:C[0],month:C[1]}),x.checkDate("limit").calendar(),z.range||x.done(null,"change")},nextMonth:function(){var C=x.getAsYM(B.year,B.month);R.extend(B,{year:C[0],month:C[1]}),x.checkDate("limit").calendar(),z.range||x.done(null,"change")},nextYear:function(){q()||(B.year++,x.checkDate("limit").calendar(),z.range||x.done(null,"change"))}}},w.prototype.changeEvent=function(){var b=this;b.config;R(b.elem).on("click",function(j){R.stope(j)}),R.each(b.elemHeader,function(k,j){R(j[0]).on("click",function(q){b.change(k).prevYear()}),R(j[1]).on("click",function(q){b.change(k).prevMonth()}),R(j[2]).find("span").on("click",function(q){var A=R(this),z=A.attr("lay-ym"),x=A.attr("lay-type");z&&(z=z.split("-"),b.listYM[k]=[0|z[0],0|z[1]],b.list(x,k),R(b.footer).find(u).addClass(v))}),R(j[3]).on("click",function(q){b.change(k).nextMonth()}),R(j[4]).on("click",function(q){b.change(k).nextYear()})}),R.each(b.table,function(k,j){var q=R(j).find("td");q.on("click",function(){b.choose(R(this))})}),R(b.footer).find("span").on("click",function(){var j=R(this).attr("lay-type");b.tool(this,j)})},w.prototype.isInput=function(b){return/input|textarea/.test(b.tagName.toLocaleLowerCase())},w.prototype.events=function(){var k=this,b=k.config,j=function(q,x){q.on(b.trigger,function(){x&&(k.bindElem=this),k.render()})};b.elem[0]&&!b.elem[0].eventHandler&&(j(b.elem,"bind"),j(b.eventElem),R(document).on("click",function(q){q.target!==b.elem[0]&&q.target!==b.eventElem[0]&&q.target!==R(b.closeStop)[0]&&k.remove()}).on("keydown",function(q){13===q.keyCode&&R("#"+k.elemID)[0]&&k.elemID===w.thisElem&&(q.preventDefault(),R(k.footer).find(s)[0].click())}),R(window).on("resize",function(){return !(!k.elem||!R(t)[0])&&void k.position()}),b.elem[0].eventHandler=!0)},p.render=function(j){var b=new w(j);return a.call(b)},p.getEndDate=function(k,b){var j=new Date;return j.setFullYear(b||j.getFullYear(),k||j.getMonth()+1,1),new Date(j.getTime()-86400000).getDate()},window.lay=window.lay||R,e?(p.ready(),layui.define(function(b){p.path=layui.cache.dir,b(l,p)})):"function"==typeof define&&define.amd?define(function(){return p}):function(){p.ready(),window.laydate=p}()}();
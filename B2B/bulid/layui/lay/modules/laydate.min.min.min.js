!function(){var N=window.layui&&layui.define,J={getPath:function(){var c=document.scripts,a=c[c.length-1],d=a.src;if(!a.getAttribute("merge")){return d.substring(0,d.lastIndexOf("/")+1)}}(),getStyle:function(c,a){var d=c.currentStyle?c.currentStyle:window.getComputedStyle(c,null);return d[d.getPropertyValue?"getPropertyValue":"getAttribute"](a)},link:function(g,d,f){if(E.path){var h=document.getElementsByTagName("head")[0],l=document.createElement("link");"string"==typeof d&&(f=d);var e=(f||g).replace(/\.|\//g,""),c="layuicss-"+e,i=0;l.rel="stylesheet",l.href=E.path+g,l.id=c,document.getElementById(c)||h.appendChild(l),"function"==typeof d&&!function a(){return ++i>80?window.console&&console.error("laydate.css: Invalid"):void (1989===parseInt(J.getStyle(document.getElementById(c),"width"))?d():setTimeout(a,100))}()}}},E={v:"5.0.5",config:{},index:window.laydate&&window.laydate.v?100000:0,path:J.getPath,set:function(a){var c=this;return c.config=J.extend({},c.config,a),c},ready:function(e){var c="laydate",d="",a=(N?"modules/laydate/":"theme/")+"default/laydate.css?v="+E.v+d;return"function"==typeof define&&define.amd?e():(N?layui.addcss(a,e,c):J.link(a,e,c),this)}},Q=function(){var a=this;return{hint:function(c){a.hint.call(a,c)},config:a.config}},I="laydate",z=".layui-laydate",C="layui-this",q="laydate-disabled",H="开始日期超出了结束日期<br>建议重新选择",O=[100,200000],P="layui-laydate-list",F="laydate-selected",G="layui-laydate-hint",K="laydate-day-prev",B="laydate-day-next",M="layui-laydate-footer",A=".laydate-btns-confirm",L="laydate-time-text",x=".laydate-btns-time",k=function(c){var a=this;a.index=++E.index,a.config=b.extend({},a.config,E.config,c),E.ready(function(){a.init()})},b=function(a){return new j(a)},j=function(c){for(var a=0,d="object"==typeof c?[c]:(this.selector=c,document.querySelectorAll(c||null));a<d.length;a++){this.push(d[a])}};j.prototype=[],j.prototype.constructor=j,b.extend=function(){var c=1,a=arguments,d=function(f,e){f=f||(e.constructor===Array?[]:{});for(var g in e){f[g]=e[g]&&e[g].constructor===Object?d(f[g],e[g]):e[g]}return f};for(a[0]="object"==typeof a[0]?a[0]:{};c<a.length;c++){"object"==typeof a[c]&&d(a[0],a[c])}return a[0]},b.ie=function(){var a=navigator.userAgent.toLowerCase();return !!(window.ActiveXObject||"ActiveXObject" in window)&&((a.match(/msie\s(\d+)/)||[])[1]||"11")}(),b.stope=function(a){a=a||win.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},b.each=function(d,c){var a,e=this;if("function"!=typeof c){return e}if(d=d||[],d.constructor===Object){for(a in d){if(c.call(d[a],a,d[a])){break}}}else{for(a=0;a<d.length&&!c.call(d[a],a,d[a]);a++){}}return e},b.digit=function(e,d,c){var a="";e=String(e),d=d||2;for(var f=e.length;f<d;f++){a+="0"}return e<Math.pow(10,d)?a+(0|e):e},b.elem=function(c,a){var d=document.createElement(c);return b.each(a||{},function(f,e){d.setAttribute(f,e)}),d},j.addStr=function(c,a){return c=c.replace(/\s+/," "),a=a.replace(/\s+/," ").split(" "),b.each(a,function(e,d){new RegExp("\\b"+d+"\\b").test(c)||(c=c+" "+d)}),c.replace(/^\s|\s$/,"")},j.removeStr=function(c,a){return c=c.replace(/\s+/," "),a=a.replace(/\s+/," ").split(" "),b.each(a,function(f,e){var d=new RegExp("\\b"+e+"\\b");d.test(c)&&(c=c.replace(d,""))}),c.replace(/\s+/," ").replace(/^\s|\s$/,"")},j.prototype.find=function(e){var d=this,c=0,a=[],f="object"==typeof e;return this.each(function(i,g){for(var h=f?[e]:g.querySelectorAll(e||null);c<h.length;c++){a.push(h[c])}d.shift()}),f||(d.selector=(d.selector?d.selector+" ":"")+e),b.each(a,function(h,g){d.push(g)}),d},j.prototype.each=function(a){return b.each.call(this,this,a)},j.prototype.addClass=function(c,a){return this.each(function(d,e){e.className=j[a?"removeStr":"addStr"](e.className,c)})},j.prototype.removeClass=function(a){return this.addClass(a,!0)},j.prototype.hasClass=function(c){var a=!1;return this.each(function(d,e){new RegExp("\\b"+c+"\\b").test(e.className)&&(a=!0)}),a},j.prototype.attr=function(c,a){var d=this;return void 0===a?function(){if(d.length>0){return d[0].getAttribute(c)}}():d.each(function(f,e){e.setAttribute(c,a)})},j.prototype.removeAttr=function(a){return this.each(function(c,d){d.removeAttribute(a)})},j.prototype.html=function(a){return this.each(function(c,d){d.innerHTML=a})},j.prototype.val=function(a){return this.each(function(c,d){d.value=a})},j.prototype.append=function(a){return this.each(function(c,d){"object"==typeof a?d.appendChild(a):d.innerHTML=d.innerHTML+a})},j.prototype.remove=function(a){return this.each(function(c,d){a?d.removeChild(a):d.parentNode.removeChild(d)})},j.prototype.on=function(c,a){return this.each(function(d,e){e.attachEvent?e.attachEvent("on"+c,function(f){f.target=f.srcElement,a.call(e,f)}):e.addEventListener(c,a,!1)})},j.prototype.off=function(c,a){return this.each(function(d,e){e.detachEvent?e.detachEvent("on"+c,a):e.removeEventListener(c,a,!1)})},k.isLeapYear=function(a){return a%4===0&&a%100!==0||a%400===0},k.prototype.config={type:"date",range:!1,format:"yyyy-MM-dd",value:null,min:"1900-1-1",max:"2099-12-31",trigger:"focus",show:!1,showBottom:!0,btns:["clear","now","confirm"],lang:"cn",theme:"default",position:null,calendar:!1,mark:{},zIndex:null,done:null,change:null},k.prototype.lang=function(){var c=this,a=c.config,d={cn:{weeks:["日","一","二","三","四","五","六"],time:["时","分","秒"],timeTips:"选择时间",startTime:"开始时间",endTime:"结束时间",dateTips:"返回日期",month:["一","二","三","四","五","六","七","八","九","十","十一","十二"],tools:{confirm:"确定",clear:"清空",now:"现在"}},en:{weeks:["Su","Mo","Tu","We","Th","Fr","Sa"],time:["Hours","Minutes","Seconds"],timeTips:"Select Time",startTime:"Start Time",endTime:"End Time",dateTips:"Select Date",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tools:{confirm:"Confirm",clear:"Clear",now:"Now"}}};return d[a.lang]||d.cn},k.prototype.init=function(){var e=this,d=e.config,c="yyyy|y|MM|M|dd|d|HH|H|mm|m|ss|s",a="static"===d.position,f={year:"yyyy",month:"yyyy-MM",date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss"};d.elem=b(d.elem),d.eventElem=b(d.eventElem),d.elem[0]&&(d.range===!0&&(d.range="-"),d.format===f.date&&(d.format=f[d.type]),e.format=d.format.match(new RegExp(c+"|.","g"))||[],e.EXP_IF="",e.EXP_SPLIT="",b.each(e.format,function(h,i){var g=new RegExp(c).test(i)?"\\b\\d{1,"+function(){return/yyyy/.test(i)?4:/y/.test(i)?308:2}()+"}\\b":"\\"+i;e.EXP_IF=e.EXP_IF+g,e.EXP_SPLIT=e.EXP_SPLIT+(e.EXP_SPLIT?"|":"")+"("+g+")"}),e.EXP_IF=new RegExp("^"+(d.range?e.EXP_IF+"\\s\\"+d.range+"\\s"+e.EXP_IF:e.EXP_IF)+"$"),e.EXP_SPLIT=new RegExp(e.EXP_SPLIT,"g"),e.isInput(d.elem[0])||"focus"===d.trigger&&(d.trigger="click"),d.elem.attr("lay-key")||(d.elem.attr("lay-key",e.index),d.eventElem.attr("lay-key",e.index)),d.mark=b.extend({},d.calendar&&"cn"===d.lang?{"0-1-1":"元旦","0-2-14":"情人","0-3-8":"妇女","0-3-12":"植树","0-4-1":"愚人","0-5-1":"劳动","0-5-4":"青年","0-6-1":"儿童","0-9-10":"教师","0-9-18":"国耻","0-10-1":"国庆","0-12-25":"圣诞"}:{},d.mark),b.each(["min","max"],function(g,i){var l=[],m=[];if("number"==typeof d[i]){var p=d[i],h=(new Date).getTime(),o=86400000,n=new Date(p?p<o?h+p*o:p:h);l=[n.getFullYear(),n.getMonth()+1,n.getDate()],p<o||(m=[n.getHours(),n.getMinutes(),n.getSeconds()])}else{l=(d[i].match(/\d+-\d+-\d+/)||[""])[0].split("-"),m=(d[i].match(/\d+:\d+:\d+/)||[""])[0].split(":")}d[i]={year:0|l[0]||(new Date).getFullYear(),month:l[1]?(0|l[1])-1:(new Date).getMonth(),date:0|l[2]||(new Date).getDate(),hours:0|m[0],minutes:0|m[1],seconds:0|m[2]}}),e.elemID="layui-laydate"+d.elem.attr("lay-key"),(d.show||a)&&e.render(),a||e.events(),d.value&&(d.value.constructor===Date?e.setValue(e.parse(0,e.systemDate(d.value))):e.setValue(d.value)))},k.prototype.render=function(){var o=this,c=o.config,h=o.lang(),l="static"===c.position,n=o.elem=b.elem("div",{id:o.elemID,"class":["layui-laydate",c.range?" layui-laydate-range":"",l?" layui-laydate-static":"",c.theme&&"default"!==c.theme&&!/^#/.test(c.theme)?" laydate-theme-"+c.theme:""].join("")}),d=o.elemMain=[],e=o.elemHeader=[],f=o.elemCont=[],m=o.table=[],a=o.footer=b.elem("div",{"class":M});if(c.zIndex&&(n.style.zIndex=c.zIndex),b.each(new Array(2),function(r){if(!c.range&&r>0){return !0}var v=b.elem("div",{"class":"layui-laydate-header"}),p=[function(){var y=b.elem("i",{"class":"layui-icon laydate-icon laydate-prev-y"});return y.innerHTML="&#xe65a;",y}(),function(){var y=b.elem("i",{"class":"layui-icon laydate-icon laydate-prev-m"});return y.innerHTML="&#xe603;",y}(),function(){var y=b.elem("div",{"class":"laydate-set-ym"}),R=b.elem("span"),D=b.elem("span");return y.appendChild(R),y.appendChild(D),y}(),function(){var y=b.elem("i",{"class":"layui-icon laydate-icon laydate-next-m"});return y.innerHTML="&#xe602;",y}(),function(){var y=b.elem("i",{"class":"layui-icon laydate-icon laydate-next-y"});return y.innerHTML="&#xe65b;",y}()],s=b.elem("div",{"class":"layui-laydate-content"}),t=b.elem("table"),u=b.elem("thead"),w=b.elem("tr");b.each(p,function(y,D){v.appendChild(D)}),u.appendChild(w),b.each(new Array(6),function(y){var D=t.insertRow(0);b.each(new Array(7),function(R){if(0===y){var T=b.elem("th");T.innerHTML=h.weeks[R],w.appendChild(T)}D.insertCell(R)})}),t.insertBefore(u,t.children[0]),s.appendChild(t),d[r]=b.elem("div",{"class":"layui-laydate-main laydate-main-list-"+r}),d[r].appendChild(v),d[r].appendChild(s),e.push(p),f.push(s),m.push(t)}),b(a).html(function(){var p=[],r=[];return"datetime"===c.type&&p.push('<span lay-type="datetime" class="laydate-btns-time">'+h.timeTips+"</span>"),b.each(c.btns,function(t,s){var u=h.tools[s]||"btn";c.range&&"now"===s||(l&&"clear"===s&&(u="cn"===c.lang?"重置":"Reset"),r.push('<span lay-type="'+s+'" class="laydate-btns-'+s+'">'+u+"</span>"))}),p.push('<div class="laydate-footer-btns">'+r.join("")+"</div>"),p.join("")}()),b.each(d,function(p,r){n.appendChild(r)}),c.showBottom&&n.appendChild(a),/^#/.test(c.theme)){var i=b.elem("style"),g=["#{{id}} .layui-laydate-header{background-color:{{theme}};}","#{{id}} .layui-this{background-color:{{theme}} !important;}"].join("").replace(/{{id}}/g,o.elemID).replace(/{{theme}}/g,c.theme);"styleSheet" in i?(i.setAttribute("type","text/css"),i.styleSheet.cssText=g):i.innerHTML=g,b(n).addClass("laydate-theme-molv"),n.appendChild(i)}o.remove(),l?c.elem.append(n):(document.body.appendChild(n),o.position()),o.checkDate().calendar(),o.changeEvent(),k.thisElem=o.elemID,"function"==typeof c.ready&&c.ready(b.extend({},c.dateTime,{month:c.dateTime.month+1}))},k.prototype.remove=function(){var c=this,a=c.config,d=b("#"+c.elemID);return d[0]&&"static"!==a.position&&c.checkDate(function(){d.remove()}),c},k.prototype.position=function(){var m=this,i=m.config,l=m.bindElem||i.elem[0],d=l.getBoundingClientRect(),g=m.elem.offsetWidth,e=m.elem.offsetHeight,h=function(o){return o=o?"scrollLeft":"scrollTop",document.body[o]|document.documentElement[o]},c=function(o){return document.documentElement[o?"clientWidth":"clientHeight"]},f=5,n=d.left,a=d.bottom;n+g+f>c("width")&&(n=c("width")-g-f),a+e+f>c()&&(a=d.top>e?d.top-e:c()-e,a-=2*f),i.position&&(m.elem.style.position=i.position),m.elem.style.left=n+("fixed"===i.position?0:h(1))+"px",m.elem.style.top=a+("fixed"===i.position?0:h())+"px"},k.prototype.hint=function(c){var a=this,d=(a.config,b.elem("div",{"class":G}));d.innerHTML=c||"",b(a.elem).find("."+G).remove(),a.elem.appendChild(d),clearTimeout(a.hinTimer),a.hinTimer=setTimeout(function(){b(a.elem).find("."+G).remove()},3000)},k.prototype.getAsYM=function(c,a,d){return d?a--:a++,a<0&&(a=11,c--),a>11&&(a=0,c++),[c,a]},k.prototype.systemDate=function(c){var a=c||new Date;return{year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:c?c.getHours():0,minutes:c?c.getMinutes():0,seconds:c?c.getSeconds():0}},k.prototype.checkDate=function(i){var d,c,g=this,h=(new Date,g.config),l=h.dateTime=h.dateTime||g.systemDate(),e=g.bindElem||h.elem[0],f=(g.isInput(e)?"val":"html",g.isInput(e)?e.value:"static"===h.position?"":e.innerHTML),m=function(n){n.year>O[1]&&(n.year=O[1],c=!0),n.month>11&&(n.month=11,c=!0),n.hours>23&&(n.hours=0,c=!0),n.minutes>59&&(n.minutes=0,n.hours++,c=!0),n.seconds>59&&(n.seconds=0,n.minutes++,c=!0),d=E.getEndDate(n.month+1,n.year),n.date>d&&(n.date=d,c=!0)},a=function(n,p,r){var o=["startTime","endTime"];p=p.match(g.EXP_SPLIT),r=r||0,h.range&&(g[o[r]]=g[o[r]]||{}),b.each(g.format,function(u,t){var s=parseFloat(p[u]);p[u].length<t.length&&(c=!0),/yyyy|y/.test(t)?(s<O[0]&&(s=O[0],c=!0),n.year=s):/MM|M/.test(t)?(s<1&&(s=1,c=!0),n.month=s-1):/dd|d/.test(t)?(s<1&&(s=1,c=!0),n.date=s):/HH|H/.test(t)?(s<1&&(s=0,c=!0),n.hours=s,h.range&&(g[o[r]].hours=s)):/mm|m/.test(t)?(s<1&&(s=0,c=!0),n.minutes=s,h.range&&(g[o[r]].minutes=s)):/ss|s/.test(t)&&(s<1&&(s=0,c=!0),n.seconds=s,h.range&&(g[o[r]].seconds=s))}),m(n)};return"limit"===i?(m(l),g):(f=f||h.value,"string"==typeof f&&(f=f.replace(/\s+/g," ").replace(/^\s|\s$/g,"")),g.startState&&!g.endState&&(delete g.startState,g.endState=!0),"string"==typeof f&&f?g.EXP_IF.test(f)?h.range?(f=f.split(" "+h.range+" "),g.startDate=g.startDate||g.systemDate(),g.endDate=g.endDate||g.systemDate(),h.dateTime=b.extend({},g.startDate),b.each([g.startDate,g.endDate],function(n,o){a(o,f[n],n)})):a(l,f):(g.hint("日期格式不合法<br>必须遵循下述格式：<br>"+(h.range?h.format+" "+h.range+" "+h.format:h.format)+"<br>已为你重置"),c=!0):f&&f.constructor===Date?h.dateTime=g.systemDate(f):(h.dateTime=g.systemDate(),delete g.startState,delete g.endState,delete g.startDate,delete g.endDate,delete g.startTime,delete g.endTime),m(l),c&&f&&g.setValue(h.range?g.endDate?g.parse():"":g.parse()),i&&i(),g)},k.prototype.mark=function(e,d){var c,a=this,f=a.config;return b.each(f.mark,function(i,g){var h=i.split("-");h[0]!=d[0]&&0!=h[0]||h[1]!=d[1]&&0!=h[1]||h[2]!=d[2]||(c=g||d[2])}),c&&e.html('<span class="laydate-day-mark">'+c+"</span>"),a},k.prototype.limit=function(m,h,f,e){var i,l=this,c=l.config,g={},a=c[f>41?"endDate":"dateTime"],d=b.extend({},a,h||{});return b.each({now:d,min:c.min,max:c.max},function(n,o){g[n]=l.newDate(b.extend({year:o.year,month:o.month,date:o.date},function(){var p={};return b.each(e,function(s,r){p[r]=o[r]}),p}())).getTime()}),i=g.now<g.min||g.now>g.max,m&&m[i?"addClass":"removeClass"](q),i},k.prototype.calendar=function(p){var h,d,g,o=this,f=o.config,c=p||f.dateTime,r=new Date,l=o.lang(),e="date"!==f.type&&"datetime"!==f.type,m=p?1:0,a=b(o.table[m]).find("td"),i=b(o.elemHeader[m][2]).find("span");if(c.year<O[0]&&(c.year=O[0],o.hint("最低只能支持到公元"+O[0]+"年")),c.year>O[1]&&(c.year=O[1],o.hint("最高只能支持到公元"+O[1]+"年")),o.firstDate||(o.firstDate=b.extend({},c)),r.setFullYear(c.year,c.month,1),h=r.getDay(),d=E.getEndDate(c.month,c.year),g=E.getEndDate(c.month+1,c.year),b.each(a,function(u,t){var v=[c.year,c.month],s=0;t=b(t),t.removeAttr("class"),u<h?(s=d-h+u,t.addClass("laydate-day-prev"),v=o.getAsYM(c.year,c.month,"sub")):u>=h&&u<g+h?(s=u-h,f.range||s+1===c.date&&t.addClass(C)):(s=u-g-h,t.addClass("laydate-day-next"),v=o.getAsYM(c.year,c.month)),v[1]++,v[2]=s+1,t.attr("lay-ymd",v.join("-")).html(v[2]),o.mark(t,v).limit(t,{year:v[0],month:v[1]-1,date:v[2]},u)}),b(i[0]).attr("lay-ym",c.year+"-"+(c.month+1)),b(i[1]).attr("lay-ym",c.year+"-"+(c.month+1)),"cn"===f.lang?(b(i[0]).attr("lay-type","year").html(c.year+"年"),b(i[1]).attr("lay-type","month").html(c.month+1+"月")):(b(i[0]).attr("lay-type","month").html(l.month[c.month]),b(i[1]).attr("lay-type","year").html(c.year)),e&&(f.range&&(p?o.endDate=o.endDate||{year:c.year+("year"===f.type?1:0),month:c.month+("month"===f.type?0:-1)}:o.startDate=o.startDate||{year:c.year,month:c.month},p&&(o.listYM=[[o.startDate.year,o.startDate.month+1],[o.endDate.year,o.endDate.month+1]],o.list(f.type,0).list(f.type,1),"time"===f.type?o.setBtnStatus("时间",b.extend({},o.systemDate(),o.startTime),b.extend({},o.systemDate(),o.endTime)):o.setBtnStatus(!0))),f.range||(o.listYM=[[c.year,c.month+1]],o.list(f.type,0))),f.range&&!p){var n=o.getAsYM(c.year,c.month);o.calendar(b.extend({},c,{year:n[0],month:n[1]}))}return f.range||o.limit(b(o.footer).find(A),null,0,["hours","minutes","seconds"]),f.range&&p&&!e&&o.stampRange(),o},k.prototype.list=function(h,l){var R=this,p=R.config,d=p.dateTime,D=R.lang(),a=p.range&&"date"!==p.type&&"datetime"!==p.type,i=b.elem("ul",{"class":P+" "+{year:"laydate-year-list",month:"laydate-month-list",time:"laydate-time-list"}[h]}),T=R.elemHeader[l],v=b(T[2]).find("span"),e=R.elemCont[l||0],r=b(e).find("."+P)[0],g="cn"===p.lang,o=g?"年":"",u=R.listYM[l]||{},s=["hours","minutes","seconds"],w=["startTime","endTime"][l];if(u[0]<1&&(u[0]=1),"year"===h){var m,n=m=u[0]-7;n<1&&(n=m=1),b.each(new Array(15),function(W){var X=b.elem("li",{"lay-ym":m}),S={year:m};m==u[0]&&b(X).addClass(C),X.innerHTML=m+o,i.appendChild(X),m<R.firstDate.year?(S.month=p.min.month,S.date=p.min.date):m>=R.firstDate.year&&(S.month=p.max.month,S.date=p.max.date),R.limit(b(X),S,l),m++}),b(v[g?0:1]).attr("lay-ym",m-8+"-"+u[1]).html(n+o+" - "+(m-1+o))}else{if("month"===h){b.each(new Array(12),function(W){var X=b.elem("li",{"lay-ym":W}),S={year:u[0],month:W};W+1==u[1]&&b(X).addClass(C),X.innerHTML=D.month[W]+(g?"月":""),i.appendChild(X),u[0]<R.firstDate.year?S.date=p.min.date:u[0]>=R.firstDate.year&&(S.date=p.max.date),R.limit(b(X),S,l)}),b(v[g?0:1]).attr("lay-ym",u[0]+"-"+u[1]).html(u[0]+o)}else{if("time"===h){var y=function(){b(i).find("ol").each(function(V,S){b(S).find("li").each(function(U,X){R.limit(b(X),[{hours:U},{hours:R[w].hours,minutes:U},{hours:R[w].hours,minutes:R[w].minutes,seconds:U}][V],l,[["hours"],["hours","minutes"],["hours","minutes","seconds"]][V])})}),p.range||R.limit(b(R.footer).find(A),R[w],0,["hours","minutes","seconds"])};p.range?R[w]||(R[w]={hours:0,minutes:0,seconds:0}):R[w]=d,b.each([24,60,60],function(Z,Y){var S=b.elem("li"),X=["<p>"+D.time[Z]+"</p><ol>"];b.each(new Array(Y),function(U){X.push("<li"+(R[w][s[Z]]===U?' class="'+C+'"':"")+">"+b.digit(U,2)+"</li>")}),S.innerHTML=X.join("")+"</ol>",i.appendChild(S)}),y()}}}if(r&&e.removeChild(r),e.appendChild(i),"year"===h||"month"===h){b(R.elemMain[l]).addClass("laydate-ym-show"),b(i).find("li").on("click",function(){var V=0|b(this).attr("lay-ym");if(!b(this).hasClass(q)){if(0===l){d[h]=V,a&&(R.startDate[h]=V),R.limit(b(R.footer).find(A),null,0)}else{if(a){R.endDate[h]=V}else{var S="year"===h?R.getAsYM(V,u[1]-1,"sub"):R.getAsYM(u[0],V,"sub");b.extend(d,{year:S[0],month:S[1]})}}"year"===p.type||"month"===p.type?(b(i).find("."+C).removeClass(C),b(this).addClass(C),"month"===p.type&&"year"===h&&(R.listYM[l][0]=V,a&&(R[["startDate","endDate"][l]].year=V),R.list("month",l))):(R.checkDate("limit").calendar(),R.closeList()),R.setBtnStatus(),p.range||R.done(null,"change"),b(R.footer).find(x).removeClass(q)}})}else{var f=b.elem("span",{"class":L}),c=function(){b(i).find("ol").each(function(X){var W=this,S=b(W).find("li");W.scrollTop=30*(R[w][s[X]]-2),W.scrollTop<=0&&S.each(function(U,V){if(!b(this).hasClass(q)){return W.scrollTop=30*(U-2),!0}})})},t=b(T[2]).find("."+L);c(),f.innerHTML=p.range?[D.startTime,D.endTime][l]:D.timeTips,b(R.elemMain[l]).addClass("laydate-time-show"),t[0]&&t.remove(),T[2].appendChild(f),b(i).find("ol").each(function(S){var V=this;b(V).find("li").on("click",function(){var U=0|this.innerHTML;b(this).hasClass(q)||(p.range?R[w][s[S]]=U:d[s[S]]=U,b(V).find("."+C).removeClass(C),b(this).addClass(C),R.setBtnStatus(null,b.extend({},R.systemDate(),R.startTime),b.extend({},R.systemDate(),R.endTime)),y(),c(),(R.endDate||"time"===p.type)&&R.done(null,"change"))})})}return R},k.prototype.listYM=[],k.prototype.closeList=function(){var a=this;a.config;b.each(a.elemCont,function(c,d){b(this).find("."+P).remove(),b(a.elemMain[c]).removeClass("laydate-ym-show laydate-time-show")}),b(a.elem).find("."+L).remove()},k.prototype.setBtnStatus=function(f,d,g){var i,h=this,e=h.config,c=b(h.footer).find(A),a=e.range&&"date"!==e.type&&"datetime"!==e.type;a&&(d=d||h.startDate,g=g||h.endDate,i=h.newDate(d).getTime()>h.newDate(g).getTime(),h.limit(null,d)||h.limit(null,g)?c.addClass(q):c[i?"addClass":"removeClass"](q),f&&i&&h.hint("string"==typeof f?H.replace(/日期/g,f):H))},k.prototype.parse=function(e,f){var c=this,g=c.config,a=f||(e?b.extend({},c.endDate,c.endTime):g.range?b.extend({},c.startDate,c.startTime):g.dateTime),d=c.format.concat();return b.each(d,function(i,h){/yyyy|y/.test(h)?d[i]=b.digit(a.year,h.length):/MM|M/.test(h)?d[i]=b.digit(a.month+1,h.length):/dd|d/.test(h)?d[i]=b.digit(a.date,h.length):/HH|H/.test(h)?d[i]=b.digit(a.hours,h.length):/mm|m/.test(h)?d[i]=b.digit(a.minutes,h.length):/ss|s/.test(h)&&(d[i]=b.digit(a.seconds,h.length))}),g.range&&!e?d.join("")+" "+g.range+" "+c.parse(1):d.join("")},k.prototype.newDate=function(a){return new Date(a.year||1,a.month||0,a.date||1,a.hours||0,a.minutes||0,a.seconds||0)},k.prototype.setValue=function(e){var d=this,c=d.config,a=d.bindElem||c.elem[0],f=d.isInput(a)?"val":"html";return"static"===c.position||b(a)[f](e||""),this},k.prototype.stampRange=function(){var e,d,c=this,a=c.config,f=b(c.elem).find("td");if(a.range&&!c.endDate&&b(c.footer).find(A).addClass(q),c.endDate){return e=c.newDate({year:c.startDate.year,month:c.startDate.month,date:c.startDate.date}).getTime(),d=c.newDate({year:c.endDate.year,month:c.endDate.month,date:c.endDate.date}).getTime(),e>d?c.hint(H):void b.each(f,function(l,g){var i=b(g).attr("lay-ymd").split("-"),h=c.newDate({year:i[0],month:i[1]-1,date:i[2]}).getTime();b(g).removeClass(F+" "+C),h!==e&&h!==d||b(g).addClass(b(g).hasClass(K)||b(g).hasClass(B)?F:C),h>e&&h<d&&b(g).addClass(F)})}},k.prototype.done=function(e,f){var c=this,g=c.config,a=b.extend({},c.startDate?b.extend(c.startDate,c.startTime):g.dateTime),d=b.extend({},b.extend(c.endDate,c.endTime));return b.each([a,d],function(i,h){"month" in h&&b.extend(h,{month:h.month+1})}),e=e||[c.parse(),a,d],"function"==typeof g[f||"done"]&&g[f||"done"].apply(g,e),c},k.prototype.choose=function(d){var e=this,f=e.config,c=f.dateTime,g=b(e.elem).find("td"),a=d.attr("lay-ymd").split("-"),i=function(l){new Date;l&&b.extend(c,a),f.range&&(e.startDate?b.extend(e.startDate,a):e.startDate=b.extend({},a,e.startTime),e.startYMD=a)};if(a={year:0|a[0],month:(0|a[1])-1,date:0|a[2]},!d.hasClass(q)){if(f.range){if(b.each(["startTime","endTime"],function(m,l){e[l]=e[l]||{hours:0,minutes:0,seconds:0}}),e.endState){i(),delete e.endState,delete e.endDate,e.startState=!0,g.removeClass(C+" "+F),d.addClass(C)}else{if(e.startState){if(d.addClass(C),e.endDate?b.extend(e.endDate,a):e.endDate=b.extend({},a,e.endTime),e.newDate(a).getTime()<e.newDate(e.startYMD).getTime()){var h=b.extend({},e.endDate,{hours:e.startDate.hours,minutes:e.startDate.minutes,seconds:e.startDate.seconds});b.extend(e.endDate,e.startDate,{hours:e.endDate.hours,minutes:e.endDate.minutes,seconds:e.endDate.seconds}),e.startDate=h}f.showBottom||e.done(),e.stampRange(),e.endState=!0,e.done(null,"change")}else{d.addClass(C),i(),e.startState=!0}}b(e.footer).find(A)[e.endDate?"removeClass":"addClass"](q)}else{"static"===f.position?(i(!0),e.calendar().done().done(null,"change")):"date"===f.type?(i(!0),e.setValue(e.parse()).remove().done()):"datetime"===f.type&&(i(!0),e.calendar().done(null,"change"))}}},k.prototype.tool=function(e,d){var c=this,a=c.config,h=a.dateTime,g="static"===a.position,f={datetime:function(){b(e).hasClass(q)||(c.list("time",0),a.range&&c.list("time",1),b(e).attr("lay-type","date").html(c.lang().dateTips))},date:function(){c.closeList(),b(e).attr("lay-type","datetime").html(c.lang().timeTips)},clear:function(){c.setValue("").remove(),g&&(b.extend(h,c.firstDate),c.calendar()),a.range&&(delete c.startState,delete c.endState,delete c.endDate,delete c.startTime,delete c.endTime),c.done(["",{},{}])},now:function(){var i=new Date;b.extend(h,c.systemDate(),{hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds()}),c.setValue(c.parse()).remove(),g&&c.calendar(),c.done()},confirm:function(){if(a.range){if(!c.endDate){return c.hint("请先选择日期范围")}if(b(e).hasClass(q)){return c.hint("time"===a.type?H.replace(/日期/g,"时间"):H)}}else{if(b(e).hasClass(q)){return c.hint("不在有效日期或时间范围内")}}c.done(),c.setValue(c.parse()).remove()}};f[d]&&f[d]()},k.prototype.change=function(f){var d=this,h=d.config,i=h.dateTime,c=h.range&&("year"===h.type||"month"===h.type),e=d.elemCont[f||0],a=d.listYM[f],g=function(m){var o=["startDate","endDate"][f],n=b(e).find(".laydate-year-list")[0],l=b(e).find(".laydate-month-list")[0];return n&&(a[0]=m?a[0]-15:a[0]+15,d.list("year",f)),l&&(m?a[0]--:a[0]++,d.list("month",f)),(n||l)&&(b.extend(i,{year:a[0]}),c&&(d[o].year=a[0]),h.range||d.done(null,"change"),d.setBtnStatus(),h.range||d.limit(b(d.footer).find(A),{year:a[0]})),n||l};return{prevYear:function(){g("sub")||(i.year--,d.checkDate("limit").calendar(),h.range||d.done(null,"change"))},prevMonth:function(){var l=d.getAsYM(i.year,i.month,"sub");b.extend(i,{year:l[0],month:l[1]}),d.checkDate("limit").calendar(),h.range||d.done(null,"change")},nextMonth:function(){var l=d.getAsYM(i.year,i.month);b.extend(i,{year:l[0],month:l[1]}),d.checkDate("limit").calendar(),h.range||d.done(null,"change")},nextYear:function(){g()||(i.year++,d.checkDate("limit").calendar(),h.range||d.done(null,"change"))}}},k.prototype.changeEvent=function(){var a=this;a.config;b(a.elem).on("click",function(c){b.stope(c)}),b.each(a.elemHeader,function(c,d){b(d[0]).on("click",function(e){a.change(c).prevYear()}),b(d[1]).on("click",function(e){a.change(c).prevMonth()}),b(d[2]).find("span").on("click",function(g){var f=b(this),h=f.attr("lay-ym"),e=f.attr("lay-type");h&&(h=h.split("-"),a.listYM[c]=[0|h[0],0|h[1]],a.list(e,c),b(a.footer).find(x).addClass(q))}),b(d[3]).on("click",function(e){a.change(c).nextMonth()}),b(d[4]).on("click",function(e){a.change(c).nextYear()})}),b.each(a.table,function(c,d){var e=b(d).find("td");e.on("click",function(){a.choose(b(this))})}),b(a.footer).find("span").on("click",function(){var c=b(this).attr("lay-type");a.tool(this,c)})},k.prototype.isInput=function(a){return/input|textarea/.test(a.tagName.toLocaleLowerCase())},k.prototype.events=function(){var c=this,a=c.config,d=function(f,e){f.on(a.trigger,function(){e&&(c.bindElem=this),c.render()})};a.elem[0]&&!a.elem[0].eventHandler&&(d(a.elem,"bind"),d(a.eventElem),b(document).on("click",function(e){e.target!==a.elem[0]&&e.target!==a.eventElem[0]&&e.target!==b(a.closeStop)[0]&&c.remove()}).on("keydown",function(e){13===e.keyCode&&b("#"+c.elemID)[0]&&c.elemID===k.thisElem&&(e.preventDefault(),b(c.footer).find(A)[0].click())}),b(window).on("resize",function(){return !(!c.elem||!b(z)[0])&&void c.position()}),a.elem[0].eventHandler=!0)},E.render=function(c){var a=new k(c);return Q.call(a)},E.getEndDate=function(c,a){var d=new Date;return d.setFullYear(a||d.getFullYear(),c||d.getMonth()+1,1),new Date(d.getTime()-86400000).getDate()},window.lay=window.lay||b,N?(E.ready(),layui.define(function(a){E.path=layui.cache.dir,a(I,E)})):"function"==typeof define&&define.amd?define(function(){return E}):function(){E.ready(),window.laydate=E}()}();
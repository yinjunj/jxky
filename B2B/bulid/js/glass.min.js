function mag(c,a,e,b,d,f){this.show=c;this.bigshow=a;this.smallshow=e;this.mask=b;this.bigitem=d;this.obj={prev:".prev",next:".next",middle:".middle",middleBox:".middle_box",len:f}}mag.prototype={init:function(){var a=this;a.start();this.showHover();this.smallImgHover();this.showMove();this.prevClick();this.nextClick()},start:function(){var b=this;var c=$(b.show).width()/$(b.mask).width()*$(b.bigshow).width();$(b.bigitem).css("width",c);$(b.smallshow+" img").eq(0).css("border","2px solid #f40").parent().siblings().find("img").css("border","1px solid #e8e8e8");var a=$(b.obj.middle+" li").innerWidth()*b.obj.len;$(b.obj.middle).width(a)},showHover:function(){var a=this;$(a.show).hover(function(){$(a.bigshow).show();$(a.mask).show()},function(){$(a.bigshow).hide();$(a.mask).hide()})},smallImgHover:function(){var a=this;$(document).on("click",a.smallshow+" img",function(){var b=$(this).attr("src");$(a.smallshow+" img").css("border","1px solid #e8e8e8");$(this).css("border","2px solid #f40");$(a.show+">img").attr("src",b);$(a.bigitem+">img").attr("src",b)})},showMove:function(){var a=this;$(a.show).mousemove(function(j){var f=$(this).offset().left;var c=$(this).offset().top;var l=j.clientX;var k=j.clientY;var h=$(window).scrollLeft();var g=$(window).scrollTop();var d=l+h-f-$(a.mask).width()/2;var b=k+g-c-$(a.mask).height()/2;if(d<=0){d=0}if(d>$(a.show).width()-$(a.mask).width()){d=$(a.show).width()-$(a.mask).width()}if(b<=0){b=0}if(b>$(a.show).height()-$(a.mask).height()){b=$(a.show).height()-$(a.mask).height()}$(a.mask).css({left:d});$(a.mask).css({top:b});var i=$(a.show).width()/$(a.mask).width();$(a.bigitem+">img").css({marginLeft:-i*d,marginTop:-i*b})})},prevClick:function(){var a=this;$(a.obj.prev).click(function(){if($(a.obj.middle).width()-$(a.obj.middleBox).width()>0){if(Math.abs(parseInt($(a.obj.middle).css("marginLeft")))>$(a.obj.middleBox).width()){$(a.obj.middle).css("marginLeft",parseInt($(a.obj.middle).css("marginLeft"))+$(a.obj.middleBox).width())}if(Math.abs(parseInt($(a.obj.middle).css("marginLeft")))<$(a.obj.middleBox).width()){$(a.obj.middle).css("marginLeft","0px");$(a.obj.next).removeClass("nextnone");$(a.obj.prev).addClass("prevnone")}}else{return}})},nextClick:function(){var a=this;$(a.obj.next).click(function(){if($(a.obj.middle).width()-$(a.obj.middleBox).width()>0){var b=$(a.obj.middle).width()-Math.abs(parseInt($(a.obj.middle).css("marginLeft")))-$(a.obj.middleBox).width();if(b>$(a.obj.middleBox).width()){$(a.obj.middle).css("marginLeft",-$(a.obj.middleBox).width()+parseInt($(a.obj.middle).css("marginLeft")))}if(b<$(a.obj.middleBox).width()){$(a.obj.middle).css("marginLeft",-($(a.obj.middle).width()-$(a.obj.middleBox).width()));$(a.obj.next).addClass("nextnone");$(a.obj.prev).removeClass("prevnone")}}else{return}})}};